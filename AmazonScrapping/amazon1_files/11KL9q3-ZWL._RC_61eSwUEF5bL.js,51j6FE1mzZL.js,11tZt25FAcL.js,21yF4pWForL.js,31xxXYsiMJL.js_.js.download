(function(e){var m=window.AmazonUIPageJS||window.P,g=m._namespace||m.attributeErrors,b=g?g("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,m,g){e.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,f,d,k){c.isDefined(b)&&(h.type=b);c.isDefined(a)&&(h.index=a);c.isDefined(q)&&(h.thumbnailIndex=q);c.isDefined(f)&&(h.variant=f);c.isDefined(d)&&(h.color=
d);h.shoppableScene=k||null}function l(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function f(a){a=a.data;d=b.copy(h);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function k(a){f(a);a=b.copy(a);a.data=b.copy(h);n.dispatch("updateView",a)}function e(){d=b.copy(h);l(h.color)}var a,n,h={},d={},m,r;return function(c,g){n=g;a=c;n.register("updateSelection",k);n.register("updateModel",f);n.register("resetModel",e);this.init=function(){l()};this.getCurrentItem=
function(){return b.copy(h)};this.getPreviousItem=function(){return b.copy(d)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){r=a};this.getImmersiveViewModalInstance=function(){return r};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(d.type,d.index,d.thumbnailIndex,d.variant,d.color,d.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});
"use strict";e.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,e,l){this.getImageHash=function(f){var k=l.getCurrentItem();f=b.getIndexForVariant(k.color,f||"MAIN",c);return b.getImageHash(k.color,f,c)};this.onImageUpdateForTwister=function(b){e.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";e.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",
function(b,c,e,l,f){var k={};return function(g){var a=this;a.dispatch=function(a,c){var d=k[a];l.isDefined(d)&&b.each(d,function(a,b){b.call(m,c)})};a.register=function(a,b){l.isDefined(k[a])||(k[a]=[]);"function"===typeof b&&k[a].push(b)};a.model=new c(g,a);a.view=new e(g,a,a.model);a.api=new f(g,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";e.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,g,l){b=b.extend(!0,
{},g,l);var f=new c(b);e.register("ImageBlockAPI",function(){return f.api});return f})});
/* ******** */
(function(K){var y=window.AmazonUIPageJS||window.P,V=y._namespace||y.attributeErrors,p=V?V("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):y;p.guardFatal?p.guardFatal(K)(p,window):p.execute(function(){K(p,window)})})(function(K,y,V){K.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(p,b,h,g,F,q,P){function N(a,c,e,m,f){if(!h.isjQueryObjDefined(a.find(".a-button-selected"))){var d=
x.getCurrentItem();if(!m||"chromeless-video"!==d.type||!l.autoplayVideo){m=0;"image"===d.type&&(m=Math.max(h.getIndexForVariant(d.color,d.variant,l),0));var k=0;h.isDefined(l.heroImage[d.color])&&(k=l.heroImage[d.color].length);f=m-(c>=l.maxAlts?l.maxAlts-f-k:0);c=0<=f?c+f:m+k;c>=e&&(m=0,c=k);e=h.getImageHash(d.color,m,l);-1!==e&&(v.dispatch("updateModel",{data:{index:m,thumbnailIndex:c,variant:e.variant,type:"image",shoppableScene:e.shoppableScene}}),e=a.find(".item").get(c),h.selectGivenThumbnail(b(e),
a))}}}function E(a){if(!l.useChildVideos)return h.lazyLoadingRequired(x.getCurrentItem(),x,l)?void 0:l.videos;if(l.colorToVideo[a])return l.colorToVideo[a];var c=l.colorToAsin[a];if(c&&c.asin){var b={};b.params={asin:c.asin,productGroupID:l.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:l.useChromelessVideoPlayer,isUDP:l.isUDP};l.isDPXFeatureEnabled||(b.success=function(a){videosOnTwisterRefresh(a)},g.load(VIDEO_AJAX_ENDPOINT,b));return l.colorToVideo&&l.colorToVideo[a]}}function t(a,
r,e){if((2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment)&&e)return a;var m=E(r),f=h.isDefined(m)&&0<m.length&&l.alwaysIncludeVideo?1:0;r=l.colorImages&&l.colorImages[r];var m=a,d=0;h.isDefined(r)&&(b.each(r,function(k,n){if(d>=l.maxAlts-f&&a<l.maxAlts+l.additionalNumberOfImageAlts){if(2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment){var r=b(".thumbItemUnrolled");r[a]?r[a].querySelector("img").src=n.thumb:b('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
k+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(a+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(a+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(a+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+n.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".regularAltImageViewLayout"))}else h.createThumbnail({type:"image",
index:k,thumbnailIndex:a,variant:n.variant,shoppableScene:n.shoppableScene},n.thumb,c,"imageThumbnail");a++}d++}),q.isEnabled&&P.logAltImgRequestPlacedOnThumbnails(b,q,x),N(c,m,a,e,f));return a}function B(a,c){l.useIV&&h.isDefined(c.hiRes)&&a.css("cursor","pointer")}function C(a,c){if("image"===a.type){var e=b("#image-canvas-caption #canvasCaption"),m,f=l.staticStrings,d=l.colorImages,k=a.color,n=a.index;h.isShoppableScenesEnabled()&&a.shoppableScene?m=f.clickSceneTagsToShopProducts:c&&l.useIV?m=
f.clickToExpand:d[k]&&d[k][n].hiRes&&l.useHoverZoom?(m=l.useHoverZoomIpad?f.touchToZoom:l.useClickZoom?f.clickToZoom:f.rollOverToZoom,l.hoverZoomIndicator&&(m="\x3cimg src\x3d'"+l.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+m)):l.useIV&&(m=f.clickToExpand);e.html(m)}}function I(a,c){var m="a-dynamic-image";if(!l.acEnabled){var e;b.each(a.main,function(d,a){h.isDefined(e)||(e=parseFloat(a[1]/a[0])<=parseFloat(l.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});m+=e}var f=h.getMaxDimensionsOfMainImage(a.main,
u,l),d=f[0],k=f[1],f=b("\x3cdiv\x3e\x3c/div\x3e"),d={"max-height":d,"max-width":k};f.addClass(m).css(d).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",onload:c}).data("a-dynamic-image",a.main);return f}function w(c,b,m){var e="desktop-dp-atf-ib-shoppablescenes-tags-"+c;"function"==typeof uet&&uet("bb",e,{wb:1});m.attr("data-a-image-name","shoppable-scene:"+c);m=a.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
m.addClass("celwidget").attr("cel_widget_id",e);m.children("span").css("display","inline-block");v.dispatch("initialize-shoppable-scene",{index:c,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:m.find(".mirai-scene-tag-placeholder"),$viewProductsButton:m.find(".mirai-scene-view-products-button")});"MutationObserver"in y&&(new MutationObserver(function(a,d){a.forEach(function(a){"childList"===a.type&&a.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===a.addedNodes.length&&"IMG"===a.addedNodes[0].tagName&&""!==a.addedNodes[0].src&&(a=a.addedNodes[0],"function"!==typeof a.onload&&(a.onload=function(){p.trigger("shoppable-scene-image-loaded",{index:c,shoppableScene:b.shoppableScene})}),d.disconnect())})})).observe(m.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",e,{wb:1});return m}function A(c,b,m){m=I(c,m);c=h.isShoppableScenesEnabled()&&c.shoppableScene?w(b,c,m):a.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
c.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});c.find(".placeHolder").replaceWith(m);a.find(".list").append(c);p.loadImageManually(m);return c}function M(a){var c=u.css("height");null!==c&&a.find(".imgTagWrapper").css("height",c);a.addClass("selected");l.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(l.imgTagWrapperClasses)}function G(c,
m,e,f){if((2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment)&&!f&&"unavailable"!==c.type){c=l.colorImages&&l.colorImages[e];m=b(".unrolledImg");e=E(e);var g=h.isDefined(e)&&0<e.length&&l.alwaysIncludeVideo?1:0;m.length>l.maxAlts&&m.each(function(d){d>=l.maxAlts&&b(this).remove()});h.isDefined(c)&&b.each(c,function(d,a){d<l.maxAlts-g+l.additionalNumberOfImageAlts&&d>=l.maxAlts-g&&b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
(d+g+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(d+g)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+(d+g)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
a.large+'" data-a-hires\x3d"'+a.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"))})}else if("image"===c.type||"unavailable"===c.type||"lazy-loaded"===c.type){e=h.getImageHash(c.color,c.index,l);if(-1===e)return m={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},h.lazyLoadingRequired(c,x,l)||(v.dispatch("updateModel",m),h.showUnavailable(c.color)),-1;f=a.find(".item.itemNo"+c.thumbnailIndex);h.isjQueryObjDefined(f)||
(f=A(e,c.thumbnailIndex,m));M(f);v.dispatch("loadMagnifier");C(c);B(f,e);p.trigger("dp:image-block:update",e)}}function f(a){var c=x.getCurrentItem().color;l.colorImages[c]||(l.colorImages[c]=a);a={type:"updatedData",data:x.getCurrentItem()};v.dispatch("updateView",a);(c=l.colorToAsin[c])&&c.asin&&K.register(h.rankedImagesReadyEvent(c.asin))}function e(){var c=a.find(".item .imgTagWrapper"),m=h.getContainerHeight(u,l.holderRatio,l.holderMaxHeight);0<m&&(u.height(m),c.height(m));a.find("img.a-dynamic-image").each(function(){var a=
b(this);a.data("a-manual-replacement")&&p.loadDynamicImage(this);var c=a.data("a-dynamic-image"),c=h.getMaxDimensionsOfMainImage(c,u,l);a.css({"max-height":c[0]+"px","max-width":c[1]+"px"})})}function m(a){C(x.getCurrentItem(),"mouseenter"===a.type)}var U,l,x,v,c,a,u,J;return function(g,r,C,q){U=this;l=g;x=r;v=q;p.on("triggerImageAjax",f);l.colorImages[l.landingAsinColor]=l.colorImages[l.defaultColor];U.render=function(m,d,k,n,e,D,f){a=k;c=n;u=e;J=t(d,m,D);D||(d=x.getCurrentItem(),h.lazyLoadingRequired(d,
x,l)&&v.dispatch("updateModel",{data:{type:"lazy-loaded"}}));d=x.getCurrentItem();k=!D;h.lazyLoadingRequired(d,x,l)||(b("#imageBlock").css("opacity","1"),a.css("opacity","1"),h.spinner(a,!1),a.find("li").removeClass("selected"),b("#image-canvas-caption #canvasCaption").empty(),h.hideUnavailable(),k&&a.find(".list .item").remove());G(x.getCurrentItem(),f,m,D);return J};U.update=function(a){};l.overrideAltImageClickAction&&h.addTag("clickEnabledOnAltImages");v.register("imageHover",m);v.register("resize",
e)}});"use strict";K.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(p,b,h){var g,F,q,y;return function(b,E,t,B){g=this;F=b;q=B;g.render=function(b,q,w,t,B,G,f){y=t;g=this;w=F.maxAlts;t=q;B=F.colorImages[b]?F.colorImages[b].length:0;B+=h.getVideosCount(b,F);b=F.heroImage[b];G=0;b&&(G=b.length);b=B+G;b>w&&(w=b-w,b=y.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),w+="+",t={type:"ingress",index:0,
thumbnailIndex:q,variant:""},b.find("#altIngressText").append(w),p.declarative.create(b,"thumb-action",t),y.append(b),t=q++);return t};g.update=function(b){"ingress"===b.data.type&&"click"===b.type&&q.dispatch("imageClick",b)}}});"use strict";K.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(p,b,h,g){function y(m,e,f,x){if(!h.isjQueryObjDefined(m.find(".a-button-selected"))){var v=A.getCurrentItem();if(!x||"chromeless-video"!==v.type||!w.autoplayVideo){x=
0;if("hero-image"===v.type){x=P(v.color,v.variant);if(-1===x)return;x=-1!==x?x:0}var c=e+x;c>=f&&(x=0,c=e);e=g.getHeroImageHash(w,v.color,x);-1!==e&&(M.dispatch("updateModel",{data:{index:x,thumbnailIndex:c,variant:e.variant,type:"hero-image"}}),e=m.find(".item").get(c),h.selectGivenThumbnail(b(e),m))}}}function q(m,e,f){if("hero-video"===A.getCurrentItem().type)return m;e=w.heroImage&&w.heroImage[e];var g=m;h.isDefined(e)&&(b.each(e,function(b,c){m<w.maxAlts&&(h.createThumbnail({type:"hero-image",
index:b,thumbnailIndex:m,variant:c.variant},c.thumb,G,"imageThumbnail"),m++)}),y(G,g,m,f));return m}function P(m,e){var f=w.heroImage;if(1>f.length||!h.isDefined(f[m])||!h.isDefined(e))return-1;var g=-1;b.each(f[m],function(b,c){c.variant===e&&(g=b)});return g}function N(){if(f.length&&w.repositionHeroImage){var b=g.getHeroDimParams(w,A.getCurrentItem()),e;h.isDefined(b)&&(e=h.isDefined(b.xPos)?b.xPos+"px "+b.yPos+"px ":"center "+b.yPos+"px ",f.css({"background-position":e,"background-size":b.width+
"px "+b.height+"px ","max-width":b.width+"px ","min-height":b.height+"px ",filter:"","-ms-filter":""}))}}function E(b,e,l,x){if(f.length&&b&&e){if("function"===typeof l||x){var v=new Image;v.onload=x?function(){f.css("background-image",'url("'+b+'")')}:l;v.src=b}l=e[1];var v=e[0],c;x||f.css({"background-image":'url("'+b+'")'});w.repositionHeroImage&&(e=g.getHeroDimParams(w,A.getCurrentItem(),e),h.isDefined(e)&&(l=e.width,v=e.height,c=h.isDefined(e.xPos)?e.xPos+"px "+e.yPos+"px ":"center "+e.yPos+
"px "));f.css({"background-position":c,"background-size":l+"px "+v+"px ","max-width":l+"px ","min-height":v+"px ",filter:"","-ms-filter":""})}}function t(e,f,l,h){e=g.getHeroImageHash(w,e,f);if(-1===e)return-1;f=b.map(e.main,function(b,c){return c})[0];E(f,e.main[f],l,h)}function B(b,e,f){if("hero-image"!==b.type)return-1;var h=P(b.color,A.getCurrentItem().variant),h=-1!==h?h:0;if(-1===g.getHeroImageHash(w,b.color,h))return-1;var v=A.getCurrentItem();b.thumbnailIndex=v.thumbnailIndex;b.type=v.type;
b.variant=v.variant;b.index=h;C(b,e,f)}function C(b,h,l){var q=g.getHeroImageHash(w,b.color,b.index),v;v=b&&e&&p.equals(b,e)?!0:!1;e||(e=b);if(!v&&b||h)t(b.color,b.index,h,l),e=b;f.removeClass("hide-background");p.trigger("dp:image-block:update",q)}var I,w,A,M,G,f,e={};return function(e,g,l,p){I=this;w=e;A=g;M=p;w.heroImage[w.landingAsinColor]=w.heroImage[w.defaultColor];I.render=function(e,c,a,h,m,l,g){G=h;f=b("#heroImage");e=q(c,e,l);B(A.getCurrentItem(),g,l);return e};I.update=function(b){var c=
b.data;"ingress"!==c.type&&f.addClass("hide-background");"swatchHover"===b.type?b.captured||(c.type=A.getCurrentItem().type,-1!==B(c)&&(b.captured=!0)):"hero-image"===c.type&&(C(c),"click"!==b.type&&w.usePeekHover||h.selectGivenThumbnail(b.$declarativeParent,G))};M.register("resize",N)}});"use strict";K.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(p,b,h,g,F,q){function P(b){G?b.css("cursor","url('"+C.staticImages.zoomIn+
"'), auto"):(b.css("cursor","-webkit-zoom-in"),b.css("cursor","-moz-zoom-in"),b.css("cursor","zoom-in"))}function N(b){var e=b.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);b={};if(h.isDefined(e))for(var e=e[1].split("_"),m=0;m<e.length;m++){var g=e[m].match(/^([A-Z]+)(\d+(\.\d+)?)$/);h.isDefined(g)&&(b[g[1]]=parseInt(g[2],10))}return b}function E(f,e){function m(){var a;e.useClickZoom?(a=e.offsetInClickZoom,a=[Math.min(1,Math.max(0,A[0]-(d[0]+a))/(d[2]-2*a)),Math.min(1,Math.max(0,A[1]-(d[1]+a))/(d[3]-
2*a))]):a=B&&B.updatePosition();if(a&&r&&r.detailSize){var b=[r.detailSize[0]-r.rect.width,r.detailSize[1]-r.rect.height];p.capabilities.rtl?r.detailImage.get(0).style.right=-(a[0]*b[0])+"px":r.detailImage.get(0).style.left=-(a[0]*b[0])+"px";r.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function w(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function l(a){var d=Q?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";A=Q?[d.pageX,d.pageY]:[a.pageX,a.pageY];if(p.capabilities.rtl){var c=
b(y).width();A=Q?[c-d.pageX,d.pageY]:[c-a.pageX,a.pageY]}}function x(a){Q&&a.preventDefault();l(a);e.useClickZoom?a=[d[0],d[1],d[0]+d[2],d[1]+d[3]]:(a=B?B.offset:f.offsetParent().offset(),a=C.acEnabled?[a.left,a.top,J.width()+a.left,J.height()+a.top]:[z[0]+a.left,z[1]+a.top,z[0]+z[2]+a.left,z[1]+z[3]+a.top]);A[0]<a[0]||A[1]<a[1]||A[0]>=a[2]||A[1]>=a[3]||C.acEnabled&&!w(f)?(e.fadeMagnifier?Y||(Y=!0,I=setTimeout(function(){v(!0)},500)):e.useClickZoom||v(),E&&(E=!1,clearTimeout(M))):(E||(E=!0,M=setTimeout(function(){g.postCountMetric("dppc_hoverZoomOpened");
F.isEnabled&&q.logHoverZoomRequestServed(F)},1E3)),e.fadeMagnifier&&Y&&(Y=!1,clearTimeout(I)),m())}function v(d){d&&u.suppressMagnifier(!0);if(n&&(r&&r.hide(),B&&(B.destroy(),B=null),n=!1,Q?(f.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),b(document).trigger("disengaged.magnifier")):b(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),a(),d))f.one("click.magnifier touchstart.magnifier",function(a){c(a,!0)})}function c(a,c){c&&u.suppressMagnifier(!1);if(!n&&
!T&&(0===W&&(g.postCountMetric("dppc_hoverTime",new Date-(y.ue&&y.ue.t0||0)),W=1),X[D]||(g.postCountMetric("dppc_hoverMain"),X[D]=1),z=[f.position().left,f.position().top,f.width(),f.height()],D&&(l(a),r?r.refit().show():r=new aa,e.useClickZoom||(B=B||new R),d=r.getWindowSize(),m()),n=!0,Q?(f.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",x).bind("touchend.magnifier",v),b(document).trigger("engaged.magnifier")):(C.acEnabled?J.unbind("mousemove.magnifier"):f.unbind("mousemove.magnifier"),
b(document).trigger("engaged.magnifier").bind("mousemove.magnifier",x)),c)){var k=b("#zoomWindow");if(0<k.length)k.one("click.magnifier touchend.magnifier",function(a){v(!0)})}}function a(){e.useHoverZoom&&(Q?f.bind("touchstart.magnifier touchmove.magnifier",c):C.acEnabled?w(f)&&J.bind("mousemove.magnifier",c):f.bind("mousemove.magnifier",c))}var u=this,J=f.offsetParent(),t={detailImageUrl:f.attr("data-old-hires"),location:"over",locationElement:f,prelaod:"ready",zIndex:50,offsetInClickZoom:50};e=
b.extend(t,e);e.adjustment=[10,0,-10,0];var r=null,B=null,A=null,z=null,d=null,k={"null":1,"":1,undefined:1},n=!1,T=!1,D=e.detailImageUrl,Q=e.useHoverZoomIpad||0,W=0,X={},R=function(){function a(d){var b=Math.round(Math.min(f.width(),r.rect.width/d));d=Math.round(Math.min(f.height(),r.rect.height/d));n.css({width:b,height:d});c=[b,d]}var d=this,c=[0,0],k=(r.detailSize&&r.detailSize[0]||5E8)/z[2],D=(r.detailSize&&r.detailSize[1]||5E8)/z[3],k=D>k?D:k;b("#magnifierLens").remove();var n=b("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});
e.generalImageUrls.zoomLensBackground&&n.css({backgroundImage:"url("+e.generalImageUrls.zoomLensBackground+")"});C.showMagnifierOnHover?P(n):n.css("cursor","pointer");d.updatePosition=function(){var a=[z[2]-c[0],z[3]-c[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(A[0]-c[0]/2-z[0]-d.offset.left)/a[0])),k=0>=a[1]?.5:Math.max(0,Math.min(1,(A[1]-c[1]/2-z[1]-d.offset.top)/a[1])),e=z[0]+Math.round(b*a[0]),a=z[1]+Math.round(k*a[1]);n.get(0).style.left=e+"px";n.get(0).style.top=a+"px";return[b,k]};d.destroy=function(){n.remove()};
d.offset=f.offsetParent().offset();a(k);d.updatePosition();n.appendTo(f.parent());r.detailImage[0].complete||r.detailImage.load(function(){var b=r.detailImage.width()/z[2];a(b);d.updatePosition()})};R.preload=function(){u.preload(e.generalImageUrls.lensBackgroundUrl)};var aa=function(){function a(){var d={};if("over"===e.location){var d=e.useClickZoom,D={},n=b("#leftCol"),m=b("#centerCol"),g=b("#rightCol"),l=b("#hover-zoom-end"),Q=b("#actionPanelContainer"),R=h.isjQueryObjDefined(n)?n.outerHeight():
m.outerHeight();D.top=h.isjQueryObjDefined(n)?n.offset().top:m.offset().top;D.bottom=R+D.top;D.right=h.isjQueryObjDefined(g)?g.offset().left:Q.offset().left;D.left=d?0:n.offset().left+n.outerWidth();h.isjQueryObjDefined(l)&&l.offset().top>D.bottom&&(D.bottom=l.offset().top);d=D}else"right"===e.location&&(d=f.offset(),d={left:d.left+f.outerWidth(),top:d.top,right:d.left+f.outerWidth()+400,bottom:d.top+400});e.minHeightElement&&(d.bottom=Math.max(d.bottom,d.top+b(e.minHeightElement).outerHeight()));
d.bottom=Math.min(d.bottom,b(y).scrollTop()+b(y).height());d.left+=k[0];d.top+=k[1];d.right+=k[2];d.bottom+=k[3];d.width=d.right-d.left;d.height=d.bottom-d.top;e.enhancedHoverOverlay&&h.isDefined(y.pageXOffset)&&(D=b(y).width(),d.width=D-d.left+y.pageXOffset-18,d.height-=14);H.css({left:d.left,top:d.top,width:d.width,height:d.height});c.rect=d;return c}function d(a){var b=new Image;c.detailSize=[0,0];b.onload=function(){c.detailSize=[b.width,b.height];m()};b.src=a.attr("src");if(0<b.width&&0<b.height)c.detailSize=
[b.width,b.height];else if(e.detailImageSize)c.detailSize=e.detailImageSize;else{a=N(b.src);var k=z[2]/z[3];a.SS||a.AA?(a=a.SS||a.AA,c.detailSize=[a,a]):a.SX?c.detailSize=[a.SX,Math.round(a.SX/k)]:a.SY?c.detailSize=[Math.round(a.SY*k),a.SY]:a.SL&&(c.detailSize=1<=k?[a.SL,Math.round(a.SL/k)]:[Math.round(a.SL*k),a.SL])}}var c=this,k=e.adjustment;b("#zoomWindow").remove();var n={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:e.zIndex};e.enhancedHoverOverlay&&(n.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",
n.border="1px solid #949494",n.borderColor="rgb(148,148,148)");var H=b("\x3cdiv id\x3d'zoomWindow' /\x3e").css(n);e.fadeMagnifier&&H.fadeIn(200);e.useClickZoom&&(G?H.css("cursor",'url("'+e.zoomOutIcon+'"), auto'):(H.css("cursor","-webkit-zoom-out"),H.css("cursor","-moz-zoom-out"),H.css("cursor","zoom-out")));c.updateImage=function(a){a=b("\x3cimg id\x3d'detailImg' src\x3d'"+a+"'/\x3e").css("position","absolute");c.detailImage&&c.detailImage.remove();H.append(a);b(document).trigger("updated.magnifier");
c.detailImage=a;d(c.detailImage)};c.refit=function(){a();d(c.detailImage);return c};e.fadeMagnifier?(c.show=function(){H.fadeIn(200);return c},c.hide=function(){H.fadeOut(200);return c}):(c.show=function(){H.show();return c},c.hide=function(){H.hide();return c});c.destroy=function(){H.remove();return c};c.getWindowSize=function(){return[c.rect.left,c.rect.top,c.rect.width,c.rect.height]};c.updateImage(D);a();H.appendTo(document.body)},Y=!1,I,E=!1,M;u.preload=function(a){a=b.makeArray(a);for(var d=
a.length,c=0;c<d;c++)a[c]instanceof Array?u.preload(a[c]):"string"===typeof a[c]&&a[c]&&!k[a[c]]&&(k[a[c]]=new Image,k[a[c]].src=a[c])};u.changeImage=function(a,d){n&&v();D=d;f.attr("src",a);u.preload(a);z=[f.position().left,f.position().top,f.width(),f.height()];d&&("immediately"===e.preload?u.preload(d,!0):b(y).ready(function(){u.preload(d)}),r?r.updateImage(d):f.attr("data-old-hires",d))};u.destroy=function(){C.acEnabled?J.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):
f.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");b(document).unbind("mousemove.magnifier");B&&B.destroy();B=null;r&&r.destroy();r=null};u.detailImage=function(){return r.detailImage};u.suppressMagnifier=function(a){T=a};u.isEngaged=function(){return n};u.engageMagnifier=c;u.disengageMagnifier=v;f[0].complete?a():f.one("load",a);u.preload(f.attr("src"));y.performance&&performance.now&&y.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(e.preload){var K=
e.detailImageUrl,t=function(){u.preload(K,!0);e.useClickZoom||R.preload()},H=e.preload;H.constructor!==Array&&(H=[H]);for(var Z=0;Z<H.length;Z++)if("immediately"===H[Z])t();else if(b(y)[H[Z]])b(y)[H[Z]](t);else b(y).bind(H[Z],t)}return u}function t(){if(C.useHoverZoom){var f={adjustment:[0,0,1,1],generalImageUrls:C.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:C.useHoverZoomIpad,useHoverZoom:C.useHoverZoom,useClickZoom:C.useClickZoom,fadeMagnifier:C.fadeMagnifier,
zoomOutIcon:C.staticImages.zoomOutCur,enhancedHoverOverlay:C.enhancedHoverOverlay||C.atfEnhancedHoverOverlay};A&&(A.destroy(),A=V);var e=M.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");h.isjQueryObjDefined(e)?C.useClickZoom?(e.one("click.loadmagnifier touchstart.loadmagnifier",function(b){A=new E(e,f);A.engageMagnifier(b,!0)}),G?e.css("cursor",'url("'+C.staticImages.zoomInCur+'"), auto'):(e.css("cursor","-webkit-zoom-in"),e.css("cursor",
"-moz-zoom-in"),e.css("cursor","zoom-in"))):A=new E(e,f):F.isEnabled&&q.logHoverZoomApplicability(b,F)}}var B,C,I,w,A,M,G=navigator.userAgent.match(/msie|trident/i);return function(b,e,h,g){B=this;C=b;I=e;F.refToModel=I;w=g;B.render=function(b,e,f,c,a,h){M=f;A&&(A.destroy(),A=V)};B.update=function(b){};w.register("loadMagnifier",t);w.register("resize",t)}});"use strict";K.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(p,b,h,g){function F(b,p,q){b=(b=q?
q:h.getColorFromState(p.getState().hovered_variations,N))&&""!==b?b:N.defaultColor;t.dispatch("updateView",{type:"swatchHover",data:{color:b}});g.postCountMetric("swatchHover")}function q(b,p,q,w){b=(b=w?w:h.getColorFromState(p.getState().selected_variations,N))&&""!==b?b:N.defaultColor;b===E.getCurrentItem().color?"function"===typeof q&&q():(t.dispatch("updateSelection",{type:"swatchClick",data:{color:b},onload:function(){var b={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof y.markFeatureRender&&
y.markFeatureRender("imageblock",b);q()}}),g.postCountMetric("swatchClick"))}var P,N,E,t;return function(b,h,g,w){P=this;N=b;E=h;t=w;p.on("image-block-twister-swatch-hover",F);p.on("image-block-twister-swatch-click",q);P.render=function(b,h,g,f,e){};P.update=function(b){}}});"use strict";K.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(p,b,h,g,F,q,P){function N(d,k,e,n){if(!h.isjQueryObjDefined(d.find(".a-button-selected"))){var f=
a.getCurrentItem();if(!n||"chromeless-video"!==f.type||!c.autoplayVideo)if(n=0,"image"===f.type&&(n=Math.max(C(f.color,f.variant),0)),!(f.thumbnailIndex>=c.maxAlts&&0!=n)){var g=k+n;g>=e&&(n=0,g=k);k=h.getImageHash(f.color,n,c);-1!==k&&(u.dispatch("updateModel",{data:{index:n,thumbnailIndex:g,variant:k.variant,type:"image",shoppableScene:k.shoppableScene}}),k=d.find(".item").get(g),h.selectGivenThumbnail(b(k),d))}}}function E(d,k,e){if((2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment)&&
e)return d;var n=c.colorImages&&c.colorImages[k];k=d;2!==c.unrolledImageBlockTreatment&&3!==c.unrolledImageBlockTreatment||b(".thumbItemUnrolled").each(function(a){(!b(this)[0].classList.contains("thumbTypeimage")||a>=n.length||a>=c.maxAlts)&&b(this).remove()});h.isDefined(n)&&(b.each(n,function(a,k){if(d<c.maxAlts)if(2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment){d++;var e=b(".thumbItemUnrolled");e[a]?e[a].querySelector("img").src=k.thumb:b('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
a+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+d+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+d+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+d+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+k.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".regularAltImageViewLayout"))}else h.createThumbnail({type:"image",
index:a,thumbnailIndex:d,variant:k.variant,shoppableScene:k.shoppableScene},k.thumb,r,"imageThumbnail"),d++}),q.isEnabled&&P.logAltImgRequestPlacedOnThumbnails(b,q,a),N(r,k,d,e));return d}function t(a,d){c.useIV&&h.isDefined(d.hiRes)&&a.css("cursor","pointer")}function B(a,d){if("image"===a.type){var k=b("#image-canvas-caption #canvasCaption"),e,n=c.staticStrings,f=c.colorImages,g=a.color,l=a.index;h.isShoppableScenesEnabled()&&a.shoppableScene?e=n.clickSceneTagsToShopProducts:d&&c.useIV?e=n.clickToExpand:
f[g]&&f[g][l].hiRes&&c.useHoverZoom?(e=c.useHoverZoomIpad?n.touchToZoom:c.useClickZoom?n.clickToZoom:n.rollOverToZoom,c.hoverZoomIndicator&&(e="\x3cimg src\x3d'"+c.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+e)):c.useIV&&(e=n.clickToExpand);k.html(e)}}function C(a,d){return h.getIndexForVariant(a,d,c)}function I(a,d,b){var k=d.thumbnailIndex,e=c.colorToAsin[d.color]&&c.colorToAsin[d.color].asin;d="altImageHover"===b&&z&&z.altImageIdx===k&&z.asin===e&&"swatchClick"===z.event?!0:"swatchHover"===b?
z&&z.asin===e&&z.event===b:z&&z.altImageIdx===k&&z.asin===e&&z.event===b;if(!d){var f="#",g=a.find(".imgTagWrapper img").get(0);g&&(f=g.src);a=new Image;a.onload=function(){if(g){g.src=f;var a=g.width,d=g.height,c=g.naturalWidth,D=g.naturalHeight;try{var H=(Math.abs(a/c*D-d)/d).toFixed(2);.01<H&&(y.ue&&((("landing"!==b||n||T)&&"swatchClick"!==b||y.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===b||"swatchClick"===b)?y.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==
b||T?"altImageHover"!==b||n||(y.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),n=!0):(y.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),T=!0)),y.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},y.ueLogError("swatchHover"===b?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+e+" Event:"+b+" Diff:"+H.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+e+" at altImageIdx "+k+" Event:"+b+" Diff:"+H.toString()+
"]"},a)))}catch(h){y.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},y.ueLogError(h,a))}}};"#"!==f&&(a.src=f);z.altImageIdx=k;z.asin=e;z.event=b}}function w(a,d){var k="a-dynamic-image";if(!c.acEnabled){var e;b.each(a.main,function(a,d){h.isDefined(e)||(e=parseFloat(d[1]/d[0])<=parseFloat(c.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});k+=e}var n=h.getMaxDimensionsOfMainImage(a.main,S,c),f=n[0],g=n[1],n=b("\x3cdiv\x3e\x3c/div\x3e"),
f={"max-height":f,"max-width":g};n.addClass(k).css(f).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",onload:d}).data("a-dynamic-image",a.main);return n}function A(a,d,b){var c="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",c,{wb:1});b.attr("data-a-image-name","shoppable-scene:"+a);b=L.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");b.addClass("celwidget").attr("cel_widget_id",
c);b.children("span").css("display","inline-block");u.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:d.shoppableScene,imageSource:d.hiRes||d.large||d.lowRes,$tagPlaceholder:b.find(".mirai-scene-tag-placeholder"),$viewProductsButton:b.find(".mirai-scene-view-products-button")});"MutationObserver"in y&&(new MutationObserver(function(b,c){b.forEach(function(b){"childList"===b.type&&b.target.classList.contains("mirai-scene-image-block-tag-container")&&1===b.addedNodes.length&&"IMG"===b.addedNodes[0].tagName&&
""!==b.addedNodes[0].src&&(b=b.addedNodes[0],"function"!==typeof b.onload&&(b.onload=function(){p.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:d.shoppableScene})}),c.disconnect())})})).observe(b.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",c,{wb:1});return b}function M(a,d,b){b=w(a,b);a=h.isShoppableScenesEnabled()&&a.shoppableScene?A(d,a,b):L.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+d+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":d+1});a.find(".placeHolder").replaceWith(b);L.find(".list").append(a);p.loadImageManually(b);return a}function G(a){var d=S.css("height");null!==d&&a.find(".imgTagWrapper").css("height",d);a.addClass("selected");c.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(c.imgTagWrapperClasses)}function f(d){if(d.isUserGenerated){var b=
a.getPreviousItem(),c=d.variant;h.isDefined(c)&&b.thumbnailIndex!==d.thumbnailIndex&&(q.isEnabled&&P.logAltImgRequestServed(q),F.postCountMetric("ImageThumbnailSelectedVariant:"+c),0===c.indexOf("IG")&&(F.postCountMetric("IGImageSelectedVariant:"+c),F.postCountMetric("IGImageSelectedEvent:"+d.interaction)))}}function e(d,k,e,g){if((2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment)&&!g&&"unavailable"!==d.type){if(d=c.colorImages&&c.colorImages[e],b(".unrolledImg").each(function(d){b(this).remove()}),
h.isDefined(d)&&(b.each(d,function(d,a){if(d<c.maxAlts){var k=b(".unrolledImg");k[d]?b(".unrolledImg #unrolledImgNo"+d+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+a.large+'" data-a-hires\x3d"'+a.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):d>=k.length&&b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(d+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+d+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
d+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+a.large+'" data-a-hires\x3d"'+a.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"))}}),p.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img")),e=h.isDefined(k)))F.postCountMetric("mainImageUpdateOnTwisterVariationClick"),
k()}else if("image"===d.type||"unavailable"===d.type||"lazy-loaded"===d.type){(e=h.isDefined(k))&&F.postCountMetric("mainImageUpdateOnTwisterVariationClick");g=h.getImageHash(d.color,d.index,c);if(-1===g)return k={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},h.lazyLoadingRequired(d,a,c)||(u.dispatch("updateModel",k),h.showUnavailable(d.color)),-1;var l=L.find(".item.itemNo"+d.thumbnailIndex);h.isjQueryObjDefined(l)||(l=M(g,d.thumbnailIndex,k),e?(T=n=!1,I(l,d,"swatchClick")):I(l,
d,"altImageHover"));G(l);u.dispatch("loadMagnifier");B(d);t(l,g);f(d);p.trigger("dp:image-block:update",g)}}function m(d){var b=Math.max(C(d.color,a.getCurrentItem().variant),0),b=h.getImageHash(d.color,b,c);if(-1===b)return h.lazyLoadingRequired(d,a,c)||h.showUnavailable(d.color),-1;var k=L.find(".swatchHoverExp"),e=w(b);k.find(".imgTagWrapper").html(e);p.loadImageManually(e);F.postCountMetric("mainImageUpdateOnTwisterVariationHover");G(k);I(k,d,"swatchHover");p.trigger("dp:image-block:update",b)}
function U(d,k){h.lazyLoadingRequired(d,a,c)||(b("#imageBlock").css("opacity","1"),L.css("opacity","1"),h.spinner(L,!1),L.find("li").removeClass("selected"),b("#image-canvas-caption #canvasCaption").empty(),h.hideUnavailable(),k&&L.find(".list .item").remove())}function l(){var d=L.find(".item .imgTagWrapper"),a=h.getContainerHeight(S,c.holderRatio,c.holderMaxHeight);0<a&&(S.height(a),d.height(a));L.find("img.a-dynamic-image").each(function(){var d=b(this);d.data("a-manual-replacement")&&p.loadDynamicImage(this);
var a=d.data("a-dynamic-image"),a=h.getMaxDimensionsOfMainImage(a,S,c);d.css({"max-height":a[0]+"px","max-width":a[1]+"px"})})}function x(d){B(a.getCurrentItem(),"mouseenter"===d.type)}var v,c,a,u,J,O,r,L,S,z={},d,k=null,n=!1,T=!1;p.on("triggerImageAjax",function(d){var b=a.getCurrentItem().color;c.colorImages[b]||(c.colorImages[b]=d);d={type:"updatedData",data:a.getCurrentItem()};u.dispatch("updateView",d);(b=c.colorToAsin[b])&&b.asin&&K.register(h.rankedImagesReadyEvent(b.asin))});return function(n,
f,g,q){v=this;c=n;a=f;u=q;c.colorImages[c.landingAsinColor]=c.colorImages[c.defaultColor];v.render=function(n,f,g,l,m,q,D,H){L=2!==c.unrolledImageBlockTreatment&&3!==c.unrolledImageBlockTreatment?g:b(".unrolledScrollBox");r=l;S=m;d=E(f,n,q);q?0===f&&I(L.find(".item.itemNo0"),a.getCurrentItem(),"landing"):(f=a.getCurrentItem(),h.lazyLoadingRequired(f,a,c)&&u.dispatch("updateModel",{data:{type:"lazy-loaded"}}));U(a.getCurrentItem(),!q);2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment?
"swatchClick"===H&&c&&c.colorImages?(k=c.colorImages[n],e(a.getCurrentItem(),D,n,q)):"updatedData"===H&&c&&c.colorImages&&c.colorImages[n]!==k&&(k=c.colorImages[n],e(a.getCurrentItem(),D,n,q)):e(a.getCurrentItem(),D,n,q);return d};h.isImageBlockGridViewHoverDelayEnabled()?v.update=function(b){var k=b.data;a.setCurrentEvent(b);"ingress"!==k.type&&"swatchHover"!==b.type&&(a.setToPreviousItem(),"mouseenter"===b.type?(O&&clearTimeout(O),O=setTimeout(function(){a.setToCurrentItem(k);U(b.data,!1)},h.getHoveringDelayTimer())):
"mouseleave"===b.type?O&&clearTimeout(O):"click"===b.type&&(a.setToCurrentItem(k),U(b.data,!1)));"swatchHover"===b.type?("ingress"!==k.type&&U(b.data,!1),k.color===a.getCurrentItem().color?e(a.getCurrentItem(),null,k.color,!0):b.captured||-1===m(k)||(b.captured=!0)):"image"===k.type&&(k.interaction=b.type,k.isUserGenerated=!0,"mouseenter"===b.type?(F.postCountMetric("dpcc_imageThumbHovered_"+(k.thumbnailIndex+1)+"_"+d),J&&clearTimeout(J),J=setTimeout(function(){e(k,null,k.color,!0);c.usePeekHover||
h.selectGivenThumbnail(b.$declarativeParent,r)},h.getHoveringDelayTimer())):"mouseleave"===b.type?J&&clearTimeout(J):"click"===b.type&&(e(k,null,k.color,!0),h.selectGivenThumbnail(b.$declarativeParent,r),F.postCountMetric("dpcc_imageThumbClicked_total"),F.postCountMetric("dpcc_imageThumbClicked_"+(k.thumbnailIndex+1)+"_"+d)))}:v.update=function(b){var k=b.data;a.setCurrentEvent(b);"ingress"!==k.type&&U(b.data,!1);"swatchHover"===b.type?k.color===a.getCurrentItem().color?e(a.getCurrentItem(),null,
k.color,!0):b.captured||-1===m(k)||(b.captured=!0):"image"===k.type&&(k.interaction=b.type,k.isUserGenerated=!0,"mouseenter"===b.type&&F.postCountMetric("dpcc_imageThumbHovered_"+(k.thumbnailIndex+1)+"_"+d),e(k,null,k.color,!0),c.usePeekHover&&"click"!==b.type||(h.selectGivenThumbnail(b.$declarativeParent,r),"click"===b.type&&(F.postCountMetric("dpcc_imageThumbClicked_total"),F.postCountMetric("dpcc_imageThumbClicked_"+(k.thumbnailIndex+1)+"_"+d))))};c.overrideAltImageClickAction&&h.addTag("clickEnabledOnAltImages");
u.register("imageHover",x);u.register("resize",l)}});K.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(p,b,h,g){function y(g,f){var e=b("\x3cimg src\x3d'"+(f?w.staticImages.shoppableSceneDotHighlighted:w.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");e.css({display:f?"none":"inline-block"});e.addClass("mirai-scene-tag").addClass(f?"active-tag":"inactive-tag");return e}function q(g){var f=b("\x3cspan\x3e");p.each(g.tags,function(e){var g=b("\x3cdiv\x3e").css({position:"absolute",
left:100*e.left+"%",top:100*e.top+"%",height:"auto",width:"auto"});g.append(y(e,!1));g.append(y(e,!0));g.bind("mouseenter",function(){P(b(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});p.declarative.create(g,"scenes-show-details-tags-ib",{tagId:e.link});f.append(g)});return f.children()}function P(b){b.addClass("mirai-scene-dot-pulsate");p.delay(function(){b.removeClass("mirai-scene-dot-pulsate")},4E3)}function N(b,g){b.css({display:"none"});g.css({display:"inline-block"})}function E(b,
g,e){b.eq(e).css({display:"inline-block"});g.eq(e).css({display:"none"})}function t(b){K.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){p.trigger("mirai:scene-details-change",{physicalId:b})})}function B(){var g=b("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),f=b("\x3cimg class\x3d'item-tag'\x3e").attr("src",w.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),e=b("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");
e.html(w.staticStrings.shoppableSceneViewProductsButton);return g.append(f).append(e)[0].outerHTML}function C(b){function f(){b.$tagPlaceholder.replaceWith(h);var c=h.find(".mirai-scene-tag.active-tag"),a=h.find(".mirai-scene-tag.inactive-tag");E(c,a,0);P(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));M=!0;b.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+b.index,{wb:1});v=!0;g.postCountMetric("miraiShoppableScenes_imageLoadedCount")}
if(b.shoppableScene){var e=b.$viewProductsButton.find(".a-button-text");if(0===e.children().length){e.append(B());p.declarative.create(b.$viewProductsButton,"scenes-show-details-view-products-ib",{tagId:b.shoppableScene.tags[0].link});var h=q(b.shoppableScene),t=h.find(".mirai-scene-tag.active-tag"),l=h.find(".mirai-scene-tag.inactive-tag"),x=b.shoppableScene.physicalId,v=!1;p.on("mirai:index:change",function(b){b.scenePhysicalId===x&&(b=b.selectedIndices[0],N(t,l),E(t,l,b),P(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(b)),
M=!0)});p.on("mirai:scene-details-change",function(b){b.physicalId!==x||M||(N(t,l),E(t,l,0),P(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),M=!0)});p.on("mirai:no-products-active",function(b){b.scenePhysicalId===x&&N(t,l)});p.on("mirai:set-first-product-active",function(b){b.scenePhysicalId===x&&(N(t,l),E(t,l,0))});p.on("a:image:load:shoppable-scene:"+b.index,function(){v||(f(),g.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});p.on("shoppable-scene-image-loaded",
function(c){c.index!=b.index||v||(f(),g.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});K.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){p.trigger("mirai:scene-side-sheet-init",{icons:w.staticImages,strings:w.staticStrings});p.trigger("mirai:scene-details-init",{scene:b.shoppableScene,imageSource:b.imageSource})})}}}var I,w,A,M=!1;return function(b,g,e,m){I=this;w=b;A=m;h.isShoppableScenesEnabled()?(A.register("initialize-shoppable-scene",
C),I.render=function(b,e,g,f,c,a,h){},I.update=function(b){"mouseenter"===b.type&&(b.data.shoppableScene?t(b.data.shoppableScene.physicalId):M=!1)}):(b=function(){},I.render=b,I.update=b)}});K.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";K.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(p,b,h,g,F,q,P,N,E){function t(d){return null!==
d&&"undefined"!==typeof d}function B(d){var a=0;b.each(d,function(d,b){var c=parseInt(b[1],10);c>a&&(a=c)});return a}function C(d){var a=0;b.each(d,function(d,b){var c=parseInt(b[0],10);c>a&&(a=c)});return a}function I(d,a,b){a=a.width();if(b.naturalMainImageSize)return a;d=B(d);0<d&&(a=Math.min(a,d));return a}function w(d,a,b){a=a.height();if(b.naturalMainImageSize)return a;d=C(d);0<d&&(a=Math.min(a,d));return a}function A(a){var c;b.each(a,function(a,d){t(c)||(c=d[1]/d[0])});return c||1}function M(d,
c,e,l,m,q,r,p,J,t,v,w,x,y){var z=b.extend({},e.foresterMetadataParams);null!==l&&(z.method+="."+l);var H=[];c.disabledViewIds&&(H=c.disabledViewIds);var Z="black";"unrolled-video-add"===y&&(Z="transparent");return h.embed({parentElement:d[0],streamingUrls:c.url,contentId:c.mediaObjectId,contentMinAge:Number(c.minimumAge||"")||0,contentTitle:c.title,swfUrl:e.swfUrl,foresterMetadataParams:z,backgroundColor:Z,flashParams:{wmode:"transparent"},slateImages:{preloadSlate:c.slateUrl,postMediaSlate:c.slateUrl},
videoAds:e.videoAds,bindings:{play:function(){if("ImmersiveView"===l)a||(a=!0,g.postCountMetric("dppc_chromefulVideoPlayedIV"));else if(u||(u=!0,g.postCountMetric("dppc_chromefulVideoPlayedPV")),!t){var d=g.buildNexusMetric("ib.thumbnailClick",J,c.mediaObjectId,c.groupType,v,w,x);g.emitNexusMetric(d)}}},cuePoints:[{values:c.durationSeconds-1,type:"position",callback:function(a,d,b){m&&(G(0,q,p),f(r))}}],disabledViewIds:H})}function G(a,b,c){b.fadeTo(500,0,function(){e(a,c);b.fadeTo(500,1)})}function f(a){a&&
a.toggle()}function e(a,c){var e=c.find("img");t(e[a])&&b(e[a]).click()}function m(a,b){r[a]=b?b:r[a];return r[a]}function K(a,c,e){e=e||O;e=e.colorImages;if(1>e.length||!t(e[a])||!t(c))return-1;var g=-1;b.each(e[a],function(a,b){b.variant===c&&(g=a)});return g}function l(a,c,e){e=e||O;e=e.colorImages;return!(t(e)&&t(e[a])&&t(e[a][c])&&t(e[a][c].main))||1>b.map(e[a][c].main,function(a,b){return b}).length?-1:e[a][c]}function x(a,b,c,e){e.parent().css("z-index",2);0!==c&&0!==b&&(b/=c,a>b?e.css("width",
b/a*100+"%"):e.css("height",a/b*100+"%"))}function v(a,c){var e;if(e=a.useIV)e=a.colorImages&&a.colorImages[c]&&0<a.colorImages[c].length?!0:!1;P.isEnabled&&(P.IVApplicaple=e,N.logImmersiveViewApplicability(b,P));return e}function c(){return 0<b(".gridImageBlockViewLayoutIn2x4").length||0<b(".gridImageBlockViewLayoutIn2x5").length||0<b(".gridImageBlockViewLayoutIn1x7").length}var a,u,J,O=b.extend(!0,{},F,q),r={},L=0,S=0,z=/gridAltImageViewLayoutIn(\d+)x(\d+)/g;return{isDefined:t,isDefinedAndEmpty:function(a){return t(a)&&
"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return t(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return t(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:A,getMaxHeightOfMainImage:w,getMaxWidthOfMainImage:I,getMaxDimensionsOfMainImage:function(a,b,c){if(c.acEnabled)return[b.height(),b.width()];var e=w(a,b,c);b=I(a,b,c);a=A(a);c=b/a;b=Math.min(b,e*a);
e=Math.min(e,c);return[e,b]},getContainerHeight:function(a,b,c){var e=a.get(0);a=0;if(t(e)){a=e.offsetWidth/b;a=Math.min(a,c);var g;b=O.mainImageHeightPartitions;c=O.mainImageMaxSizes;if(t(c)&&t(b)){for(var f=0,h=y.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e=0;e<b.length;e++)h>b[e]&&(f=e+1);c.length>=f&&(g=c[f])}t(g)&&(a=Math.min(g[1],a))}return a},getColorFromState:function(a,c){if(a){c=c||O;var e="";b.each(c.visualDimensions,function(b,c){a[c]&&(e+=" "+a[c])});
return e&&e.substring(1)}},createThumbnail:function(a,b,e,g){var f=e.find(".template").clone().removeClass("template").addClass("item"),h=document.createElement("img");h.src=b;f.find(".placeHolder").replaceWith(h);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&f.addClass("heroImageThumbnail");t(g)&&f.addClass(g);c()&&f&&(g=document.createElement("div"),g.className="imageBlockThumbnailImageGrayOverlay",h.parentNode.insertBefore(g,h));p.declarative.create(f,"thumb-action",a);f.attr&&
(f.attr("data-ux-click",""),a.type&&a.type.match(/video/)?(f.attr("data-csa-c-type","uxElement"),f.attr("data-csa-c-element-type","navigational"),f.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(f.attr("data-csa-c-type","uxElement"),f.attr("data-csa-c-element-type","navigational"),f.attr("data-csa-c-action","image-block-alt-image-hover")),f.attr("data-csa-c-posy",a.thumbnailIndex+1));e.append(f)},selectGivenThumbnail:function(a,b){var c=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");
c.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,c,e,g,f,h,l){M(a,b,c,e,g,f,h,l,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:M,loadMediaIntoAiry:function(a,b,c,e){a&&a.getMediaSourceInfo()!==b.url&&(e?a.loadMedia?(J={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(J)):a.play({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"}):a.loadMedia?
a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.play({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId}))},showUnavailable:function(a){a&&(b("#imageBlock .unvailableVariation").html(a),b("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){b("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:G,toggleVideoCaption:f,
selectThumbnail:e,spinner:function(a,c){var e=b("#imageBlock .a-spinner").parent();0===e.length&&(e=b("\x3cdiv\x3e\x3c/div\x3e").append(b("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),a.append(e),e.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));
c?e.show():e.hide();return e},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:m,getIndexForVariant:K,getImageHash:l,lazyLoadingRequired:function(a,b,c){b=Math.max(K(a.color,b.getCurrentItem().variant,c),0);b=-1!==l(a.color,b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==m(a);return!c.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:x,repositionVideoBanner:function(a,
b,c,e){setTimeout(function(){var c=a.width()/a.height();x(c,16,9,b)},e||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,c){if(c.useChildVideos){if(!t(c.colorToVideo))return-1;a=c.colorToVideo[a]}else a=c.videos;return t(a)&&t(a[b])&&t(a[b].url)?a[b]:-1},isImmersiveViewEnabled:v,playVideoInImmersiveView:function(a,b){return v(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},
getMediaSourceInfo:function(){return t(J)?J.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,c){return{requester:"DetailPageTablet",marketplaceID:c.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:c.languageCode,page:"DetailPageTablet",placement:"ImageBlock",video:{videoURL:c.url,imageURL:c.slateUrl}}},addTag:function(a){y.ue&&y.ue.tag&&y.ue.tag(a)},isShoppableScenesEnabled:function(){return E.isEnabled&&0<b(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:c,
isImageBlockGridViewHoverDelayEnabled:function(){return 0<b(".gridImageBlockViewLayoutIn2x4").length||0<b(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return L},updateThumbnailHoverDelay:function(a){if(t(a)){L=0;var b=a.closest("li"),b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);if(-1!==b){var c;c=S;a=a.closest("ul").attr("class");a===V?c=!1:(a=z.exec(a),null===a||3!==a.length?c=!1:(a=a[2],c=Math.floor(c/a)>Math.floor(b/a)));c&&
(L=100);S=b}}}}});"use strict";K.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(p,b,h,g,F,q,P){function N(c,d,e,f){!a.autoplayVideo||ca||a.useChromelessVideoPlayer?!g.isjQueryObjDefined(c.find(".a-button-selected"))&&(e=u.getCurrentItem(),!f||a.prioritizeVideos||"chromeless-video"===e.type&&a.autoplayVideo)&&(f=g.getVideoHash(e.color,0,a),-1===f||e.thumbnailIndex>=a.maxAlts-1||(d+=0,J.dispatch("updateModel",
{data:{index:0,thumbnailIndex:d,variant:f.variant,type:a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),d=c.find(".item").get(d),g.selectGivenThumbnail(b(d),c))):(g.selectGivenThumbnail(c.find("img:last"),c),g.fadeToThumbnail(c.find("img").length-1,S,c))}function E(b){var c=u.getCurrentItem().color;if(a.useChildVideos&&!a.colorToVideo[c]){var d=function(){if(b){a.colorToVideo[c]=b;var d={type:"updatedData",data:u.getCurrentItem()};J.dispatch("updateView",d)}};a.lazyLoadExperienceDisabled?
d():K.when(g.rankedImagesReadyEvent(a.colorToAsin[c].asin)).execute(function(){d()})}}function t(b){b&&(a.notShowVideoCount=b,b={type:"updatedData",data:u.getCurrentItem()},J.dispatch("updateView",b))}function B(b){if(!a.useChildVideos)return g.lazyLoadingRequired(u.getCurrentItem(),u,a)?void 0:a.videos;if(a.colorToVideo[b])return a.colorToVideo[b];var c=a.colorToAsin[b];if(c&&c.asin){var d={};d.params={asin:c.asin,productGroupID:a.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:a.useChromelessVideoPlayer,
isUDP:a.isUDP};a.isDPXFeatureEnabled||(d.success=function(a){E(a)},F.load("/gp/product/features/apparel-main-image/videos.html",d));return a.colorToVideo&&a.colorToVideo[b]}}function C(b){d&&null===b&&2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment&&(d.hide(),r.parent().css("z-index",-1),L.hide(),r.siblings(".ive-creator-profile").addClass("aok-hidden"))}function I(){J.dispatch("selectThumbnail",g.useTabbedImmersiveView(a)?1:0)}function w(a,c,e,f){return h.embed({isShowFirstFrameWhenReadyEnabled:!0,
parentElement:a[0],streamingUrls:c.url,swfUrl:e.swfUrl,foresterMetadataParams:e.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var b=g.isjQueryObjDefined(a.find("video"))?"HTML5":"FLASH";q.postCountMetric("dppc_chromelessVideo:"+b)},playing:function(){a.parent().css("z-index",8)},videounsupported:function(){I();q.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){I();
q.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){d.seek(0)}},cuePoints:[{values:c.durationSeconds-1,type:"position",callback:function(c,d,e){c=e.durationSeconds-e.playheadTimeSeconds;a.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*c,.1,function(){a.parent().css({"background-color":"transparent","z-index":-1});I();b(this).show().css("opacity",1)})}}]})}function A(a){var c=b("#video-outer-container"),d=c.find(".ive-creator-profile"),e=c.find("#video-canvas-caption");
if(a&&a.creatorProfile&&"IB_G2"===a.groupType&&d){if(1===d.length){var g=d.removeClass("aok-hidden").height();if(g=(e=1===e.length?e.height():0)?e+g:g)c.css({"max-height":"calc(100% - "+g+"px)"}),c.addClass("videoContainerWrapperCenter")}c=d.find(".a-profile-content .a-profile-name");0<c.length&&c.html(a.title);c=d.find(".a-profile-content .a-profile-descriptor");0<c.length&&c.html(a.creatorProfile.publicName);c=d.find(".a-profile-avatar img");0<c.length&&c.attr("src",a.creatorProfile.url);d.attr("href",
a.creatorProfile.profileLink+"?ref\x3dive_mb_profile")}else d.addClass("aok-hidden")}function M(){if(2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment)if(g.useTabbedImmersiveView(a)){if(1<g.getVideosCount(u.getCurrentItem().color,a)){if(g.isDefined(z)){L.show();return}z=b('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(a.staticStrings.watchMoreVideos);L.find("#videoCaption").append(z);p.declarative.create(z,"videoIngressClick",n)}g.playVideoInImmersiveView(a,
u.getCurrentItem().color)&&(p.declarative.create(r,"videoIngressClick",n),r.attr&&r.attr("data-ux-click",""),r.children().css("z-index","-1"),r.css("display","inline-block"))}else L.find("#videoCaption").text(a.staticStrings.playVideo),L.show()}function G(b,c){if("chromeful-video"===b.type||"chromeless-video"===b.type||"unrolled-video-add"===c){var e=g.getVideoHash(b.color,b.index,a);if(-1===e)return-1;if("chromeful-video"===b.type)a:{var f=b.thumbnailIndex+1,h=S.width()/S.height(),l=parseInt(e.videoWidth,
10),m=parseInt(e.videoHeight,10);g.updateAspectRatio(h,l,m,r);if(d&&"unrolled-video-add"!==c)d.show(),g.loadMediaIntoAiry(d,e,k,a.tabletWeb),M(),U(d),A(e);else{if(a.tabletWeb)d=D;else if(d=g.createAiryInstanceForChromefulNotUseTabbedImmersiveView(r,e,k,null,a.autoplayVideo,S,L,O,f,a.useTabbedImmersiveView,W,Q,X,c),"unrolled-video-add"===c){d.show();g.loadMediaIntoAiry(d,e,k,a.tabletWeb);break a}M();A(e);U(d)}}else if(d&&"unrolled-video-add"!==c)d.show(),g.loadMediaIntoAiry(d,e,k,a.tabletWeb),d.play(),
L.show();else if(d=w(r,e,k))"unrolled-video-add"===c&&(d.show(),g.loadMediaIntoAiry(d,e,k,a.tabletWeb)),d.play()}}function f(c,d,f){if((2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment)&&f)return c;var h=B(d);d=c;var k=b(".unrolledImg"),l=g.isDefined(h)&&0<h.length&&a.alwaysIncludeVideo?1:0;g.isDefined(h)&&0<h.length&&!a.alwaysIncludeVideo&&c===a.maxAlts&&q.postCountMetric("IBVideoDrop");k.length>a.maxAlts&&k.each(function(c){c>=a.maxAlts&&b(this).remove()});l&&c===a.maxAlts&&
(2===a.unrolledImageBlockTreatment||3==a.unrolledImageBlockTreatment?(b(".thumbItemUnrolled").last().remove(),b(".unrolledImg").last().remove()):O.find(".item:last").remove(),c--);g.isDefined(h)&&(b.each(h,function(d,f){if(c<a.maxAlts){if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var k=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";b('\x3cli class\x3d"thumbItemUnrolled thumbType'+k+" thumbIndex"+d+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+
c+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+c+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+c+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+f.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b("ul.regularAltImageViewLayout"));b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
c+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+c+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+c+'" class\x3d"videoIndex'+d+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"));
2===a.dp60VideoPosition&&e(b(".regularAltImageViewLayout"),a.dp60VideoPosition)}else{var k=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",l={type:k,index:d,thumbnailIndex:c,variant:f.variant};n={type:"video-ingress",index:d,thumbnailIndex:c,variant:f.variant};g.useTabbedImmersiveView(a)&&("chromeful-video"===k&&(ba+=" videoBlockIngress  videoBlockDarkIngress",f.thumb=f.thumb.replace("_PKmb-play-button-overlay-thumb","")),a.altsOnLeft||(ba+=" a-align-top"));g.isImageBlockGridViewDisplayEnabled()&&
(ba+=" videoImageBlockGridView");g.createThumbnail(l,f.thumb,O,ba);2===a.dp60VideoPosition&&e(O,a.dp60VideoPosition);if(g.useTabbedImmersiveView(a)){m(O.find(".videoBlockIngress img"),a.videoIngressATFSlateThumbURL);var l=1<h.length?"multiple-videos":"one-video",r=!0===a.notShowVideoCount?a.staticStrings.multipleVideos:1<h.length?h.length+" "+a.staticStrings.multipleVideos:a.staticStrings.singleVideo;r&&O.find(".videoBlockIngress").append(O.find("#videoCount_template").clone().text(r).attr("id","videoCount")).addClass(l)}l=
q.buildNexusMetric("ib.thumbnailImpression",c+1,f.mediaObjectId,f.groupType,W,Q,X,R);q.emitNexusMetric(l);l=q.buildNexusMetric("ib.thumbnailRender",c+1,f.mediaObjectId,f.groupType,W,Q,X,R);q.emitNexusMetric(l);da||(da=!0,q.postCountMetric("chromeless-video"===k?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}c++}if(g.useTabbedImmersiveView(a))return!1}),N(O,d,c,f),a.imageBlockRenderingStartTime&&q.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",p.now()-a.imageBlockRenderingStartTime));
return c}function e(c,d){if(0!==d)if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var e=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",f=c.children(".thumbTypeimage"),e=c.children(".thumbType"+e);f&&e&&f[d-1]&&b(f[d-1]).before(e[0]);e=b(".unrolledScrollBox .list-unrolled");f=e.children(".unrolledImg.imgMedia");e=e.children(".unrolledImg.videoMedia");f&&e&&f[d-1]&&b(f[d-1]).before(e[0]);b(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(a){for(var c=
null,d=0;d<this.classList.length;d++)this.classList[d].includes("itemNo")&&(c=d);null!==c&&b(this).removeClass(this.classList[c]).addClass("itemNo"+a);this.querySelectorAll("div")[1].id="unrolledImgNo"+a})}else f=c.children(".imageThumbnail"),e=c.children(".videoBlockIngress"),f&&e&&f[d-1]&&b(f[d-1]).before(e[0])}function m(a,b){var c=a.attr("src");if(c&&b){a.attr("src",b);var d=new Image;d.onload=function(b){a.attr("src",c)};d.src=c}}function U(b){a.autoplayVideo&&b&&!ca&&(g.toggleVideoCaption(L),
b.setVolume(0),b.show(),b.play(),ca=!0)}function l(b){d&&d.pause();b.data=n;b.clickTimeStamp=b.$event.timeStamp;var c="a"===b.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";J.dispatch("imageClick",b);q.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp);b=q.buildNexusMetric("ib.thumbnailClick",b.data.thumbnailIndex+1,a.videos[0].mediaObjectId,a.videos[0].groupType,W,Q,X,R);q.emitNexusMetric(b);q.postCountMetric(c)}function x(a){D=a.player;D.hide=function(){D.pause();p.$("#main-video-container").find(".vse-player-container").hide()};
D.show=function(){p.$("#main-video-container").find(".vse-player-container").show();D.play()};D.getMediaSourceInfo=function(){return g.getMediaSourceInfo()}}function v(c,d,e,f,h,k){C(k);r=null!==k?b("#unrolledImgNo"+k.thumbnailIndex):f.find("#main-video-container");L=null!==k?"":r.parent().find("#video-canvas-caption");S=null!==k?b(".unrolledScrollBox"):b("#main-image-container");null===k&&g.isImageBlockGridViewDisplayEnabled()&&(r.addClass("videoCenter"),f.find("#video-outer-container").addClass("videoWrapperCenter"));
W=y.location.href;c=u.getCurrentItem().color;!0===h?Q=a.mediaAsin:(Q=a.colorToAsin[c]&&a.colorToAsin[c].asin,Q=g.isDefined(Q)?Q:a.mediaAsin);a.useChromelessVideoPlayer||r.addClass("chromeful-container");null!==k?G(k,"unrolled-video-add"):G(u.getCurrentItem(),"");g.useTabbedImmersiveView(a)&&p.declarative("videoIngressClick",["click"],l);c=u.getCurrentItem().color;h=g.getVideoHash(c,0,a);-1!==h&&a.tabletWeb&&(h=g.getNilgiriServiceAjaxRequest(a,c,h),P.get(p,"#main-video-container",h,function(){p.$("#main-video-container").find(".vse-player-container").hide()},
function(){p.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}))}var c,a,u,J,O,r,L,S,z,d,k,n,T,D,Q,W,X,R,aa,Y,V,da=!1,ca=!1,ba="videoThumbnail";return function(d,e,h,l){c=this;a=d;u=e;J=l;k=a.airyConfig;X=a.contentWeblab&&a.contentWeblab+":"+a.contentWeblabTreatment;a.colorToVideo={};a.colorToVideo[a.landingAsinColor]=a.colorToVideo[a.defaultColor]=a.videos;a.tabletWeb?(aa="tablet",R="applicationType.ImageBlock.vse_ib_tablet_web"):p.capabilities.tablet?(aa="tablet",p.capabilities.isAmazonApp&&
(R="applicationType.ImageBlock.vse_ib_tablet_app")):(aa="desktop",R="desktop_web.ImageBlock.vse_ib_iv");c.render=function(c,d,e,g,h,k){var l=[];if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){O=b("ul.regularAltImageViewLayout");T=f(d,c,k);l=[];d=b(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var m=0;m<d.length;m++){var n=d[m].classList.contains("thumbTypechromeful-video")?
"chromeful-video":"chromeless-video",q=Number(d[m].classList[2].slice(10)),r=b(".thumbItemUnrolled").index(d[m]);l.push({color:c,thumbnailIndex:r,type:n,varient:"MAIN",index:q})}for(m=0;m<l.length;m++)v(c,e,g,h,k,l[m])}else O=g,T=f(d,c,k),v(c,e,g,h,k,null);return T};g.isImageBlockGridViewHoverDelayEnabled()?c.update=function(b){var c=b.data;"ingress"===c.type||"swatchHover"===b.type||g.lazyLoadingRequired(c,u,a)||(u.setToPreviousItem(),"mouseenter"===b.type?(V&&clearTimeout(V),V=setTimeout(function(){u.setToCurrentItem(c);
C(null)},g.getHoveringDelayTimer())):"mouseleave"===b.type?V&&clearTimeout(V):"click"===b.type&&(u.setToCurrentItem(c),C(null)));if("swatchHover"===b.type)"ingress"===c.type||g.lazyLoadingRequired(c,u,a)||C(null),c.color===u.getCurrentItem().color?G(u.getCurrentItem(),""):b.captured||g.lazyLoadingRequired(c,u,a)&&!g.lazyLoadOnHoverEnabled(a)&&G(u.getCurrentItem(),"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var d=g.getVideoHash(c.color,c.index,a);"mouseenter"===b.type?(q.postCountMetric("dpcc_videoThumbHovered_"+
(c.thumbnailIndex+1)+"_"+T),"chromeless-video"===c.type&&(d=q.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,d.mediaObjectId,d.groupType,W,Q,X,R),q.emitNexusMetric(d)),Y&&clearTimeout(Y),Y=setTimeout(function(){G(c,"");!a.usePeekHover&&p.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&g.selectGivenThumbnail(b.$declarativeParent,O)},g.getHoveringDelayTimer())):"mouseleave"===b.type?Y&&clearTimeout(Y):"click"===b.type&&(G(c,""),p.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&
(g.selectGivenThumbnail(b.$declarativeParent,O),d=q.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,d.mediaObjectId,d.groupType,W,Q,X,R),(!g.useTabbedImmersiveView(a)&&"chromeless-video"===c.type||"tablet"==aa)&&q.emitNexusMetric(d),g.useTabbedImmersiveView(a)&&(q.emitNexusMetric(d),q.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+T),n.action="videoIngressClick",n.clickTimeStamp=b.$event.timeStamp,n.$event=b.$event,n.$currentTarget=b.$currentTarget,J.dispatch("videoIngressClick",
n),q.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}}:c.update=function(b){var c=b.data;"ingress"===c.type||g.lazyLoadingRequired(c,u,a)||C(null);if("swatchHover"===b.type)c.color===u.getCurrentItem().color?G(u.getCurrentItem(),""):b.captured||g.lazyLoadingRequired(c,u,a)&&!g.lazyLoadOnHoverEnabled(a)&&G(u.getCurrentItem(),"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var d=g.getVideoHash(c.color,c.index,a);if("mouseenter"===b.type&&(q.postCountMetric("dpcc_videoThumbHovered_"+
(c.thumbnailIndex+1)+"_"+T),"chromeless-video"===c.type)){var e=q.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,d.mediaObjectId,d.groupType,W,Q,X,R);q.emitNexusMetric(e)}G(c,"");a.usePeekHover&&"click"!==b.type||!p.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")||(g.selectGivenThumbnail(b.$declarativeParent,O),"click"===b.type&&(d=q.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,d.mediaObjectId,d.groupType,W,Q,X,R),(!g.useTabbedImmersiveView(a)&&"chromeless-video"===
c.type||"tablet"==aa)&&q.emitNexusMetric(d),g.useTabbedImmersiveView(a)&&(q.emitNexusMetric(d),q.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+T),n.action="videoIngressClick",n.clickTimeStamp=b.$event.timeStamp,n.$event=b.$event,n.$currentTarget=b.$currentTarget,J.dispatch("videoIngressClick",n),q.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}};a.isDPXFeatureEnabled&&(p.on("triggerVideoAjax",E),p.on("notShowVideoCountAjax",t));p.on("vsePlayer-imageblock_tablet",
x)}});"use strict";K.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(p,b){function h(b,g,h,N,E){function t(a){"click"===a.type&&N.postCountMetric("thumbClick");"click"===a.type&&v.overrideAltImageClickAction?c.dispatch("thumbActionClick",a):c.dispatch("updateSelection",a)}function B(a){v.useClickZoom||c.dispatch("imageClick",a)}function C(a){v.useClickZoom||c.dispatch("imageHover",a)}function I(a){c.dispatch("button360Click",a)}function w(c){!h.isDefined(c)||"swatchClick"!==
c.type&&"updatedData"!==c.type?(x.update(c),"swatchHover"!==c.type&&a.getPreviousItem().thumbnailIndex!==c.data.thumbnailIndex&&N.postCountMetric(c.data.type+"ThumbnailSelected"),b.trigger("image-block-thumbnail-selected",c.data)):(x.render(c.data.color,!1,c.onload,c.type),c={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof y.markFeatureRender&&y.markFeatureRender("imageblock",c))}function A(a){c.dispatch("resize",a)}function M(a){h.selectThumbnail(a,u)}function G(){if("function"===
typeof y.markFeatureInteractive){var a=[],b=[];v.interactiveCallJSPEnabled?(a=["scroll"],b=["click"]):(a=["hover"],b=["click","hover"]);y.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:a,alwaysInteractive:!0},{name:"thumbnail",events:b,alwaysInteractive:!0}]})}}function f(){"function"===typeof y.markFeatureInteractive&&y.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function e(){if(!v.interactiveCallJSPEnabled||
p.useIV)G(),1===p.useIV?K.when("a-modal").execute(function(){f()}):f();v.disableHoverOnAltImages||b.declarative("thumb-action",["mouseenter","mouseleave"],t);b.declarative("thumb-action",["click"],t);b.declarative("main-image-click",["click"],B);b.declarative("main-image-click",["mouseenter","mouseleave"],C);b.declarative("button-360-click",["click"],I);b.on("resize",A)}function m(a){var b=a.data,c;b&&"ingress"!==b.type&&"click"===a.type&&(c=a);return c}function U(b){var c=a.getCurrentItem(),e={type:"click"};
e.$declarativeParent=b;e.data=c;return e}function l(a){h.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===a.type&&h.updateThumbnailHoverDelay(a.$target)}var x,v,c,a,u;return function(b,f,h){x=this;v=b;c=f;a=h;u=g("#imageBlock #altImages ul");var p=g("#imageBlock .canvas"),t=g("#main-image-container"),z;x.subViews=[];for(f=0;f<E.length;f++)x.subViews.push(new E[f](b,h,x,c));x.render=function(b,c,e,f){var h=0;u.find(".item").remove();b=b||a.getCurrentItem().color;g.each(x.subViews,function(a,
g){h=(2===v.unrolledImageBlockTreatment||3===v.unrolledImageBlockTreatment?g.render(b,h,p,u,t,c,e,f):g.render(b,h,p,u,t,c,e))||h});var l=u.find(".a-button-selected").closest(".a-declarative");z=U(l)};x.init=function(){u=g("#imageBlock #altImages ul");var a=u.find(".a-button-selected").closest(".a-declarative"),b=a.data("action"),a=a.data(b)||{};a.color=v.landingAsinColor||v.defaultColor;c.dispatch("updateModel",{data:a});x.render(a.color,!0);v.isDebug&&y.console&&console.log(v);c.register("updateView",
w);c.register("selectThumbnail",M);e()};x.update=function(a){l(a);g.each(x.subViews,function(b,c){c.update(a)});v.usePeekHover&&("mouseleave"===a.type?c.dispatch("updateSelection",z):"click"===a.type&&(z=m(a)||z))}}}var g=["A","jQuery","imageBlockUtils","postMetric"].concat(p.views);K.when.apply(K,g).register("ImageBlockView",function(){for(var b=arguments[0],g=arguments[1],p=arguments[2],y=arguments[3],E=[],t=4,B=arguments.length;t<B;t++)E.push(arguments[t]);return h(b,g,p,y,E)})})});
/* ******** */
(function(B){var q=window.AmazonUIPageJS||window.P,sa=q._namespace||q.attributeErrors,c=sa?sa("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):q;c.guardFatal?c.guardFatal(B)(c,window):c.execute(function(){B(c,window)})})(function(B,q,sa){B.when("A","jQuery").register("ImageBlockImmersiveViewDimensionIngress",function(c,e){var a;return function(e,m,c,t){a=this;a.render=function(){};a.update=function(){}}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric",
"imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(c,e,a,x,m){function ia(){m.populateTitle(d.find("#ivTitle"),160,H)}function t(){var e=k.getCurrentItem().color;C=H.colorImages[e];z=H.heroImage[e];v=D=0;a.isDefined(z)&&(v=z.length);a.isDefined(C)&&(D=C.length)}function p(a){return a.hiRes||a.large||a.main[a.main.length-1]}function q(){var a=d.find("#ivStage").find("#ivLargeImage"),e=a.width(),m=a.height(),c=a.find(".fullscreen");c.removeAttr("style");var k=c.width(),
l=c.height();0<c.length&&(c[0].naturalWidth&&(k=c[0].naturalWidth),c[0].naturalHeight&&(l=c[0].naturalHeight));a.css("cursor","auto");var k=0===k?1:k,l=0===l?1:l,t=Math.min(e/k,m/l),z=l*t,p=k*t;1>t?(y?a.css("cursor","url('"+H.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),g=!0):g=!1;k=Math.min(p,k);l=Math.min(z-20,l);c.css({"margin-top":(m-l)/2,"margin-left":(e-k)/2,height:l,width:k});a.css("visibility","visible");I=!1}
function B(a){var e=d.find("#ivLargeImage");e.css("visibility","hidden");e.empty();m.animateStageIn(e);e.append(a);q()}function N(c){d.find("#ivLargeImage").css("display","none");d.find("#ivLargeImage").css("display","block");var k;"hero-image"===c?a.isDefined(z)&&(k=p(z[w.index])):a.isDefined(C)&&(k=p(C[w.index]));if(a.isDefined(k)){d.find(".fullscreen").remove();var g=e("\x3cimg\x3e").attr("src",k).addClass("fullscreen"),l=d.find("#ivLargeImage");m.animateStageOut(l,function(){g.load(function(){B(g)});
if(g[0].complete)B(g);else{l.empty();var a=(l.height()-104)/2,d=(l.width()-80)/2;e("\x3cimg\x3e").attr("src",H.staticImages.spinner).css({position:"relative",top:a+"px",left:d+"px"}).appendTo(l)}})}}function U(a){d.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?w.type="hero-image":w.type="image";w.index=a.attr("id").split("_")[1];N(w.type);x.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(w.index,10)+1)+"_"+(v+D))}function L(){d.delegate(".ivThumb","click",
function(){var a=e(this);U(a)})}function M(a,e){return 0<e?e/2:Math.min(0,Math.max(e,a))}function O(a){var e=V.top-(a.pageY-r[1])*l;a=M(V.left-(a.pageX-r[0])*l,F.left);e=M(e,F.top);d.find(".fullscreen").css({left:a,top:e})}function Z(){d.delegate("#ivLargeImage","click",function(a){if(I)q();else if(g){d.find(".fullscreen").removeAttr("style");if(g){var e=d.find("#ivLargeImage"),k=e.find(".fullscreen");y?e.css("cursor","url('"+H.staticImages.zoomOut+"'), auto"):(e.css("cursor","-webkit-zoom-out"),
e.css("cursor","-moz-zoom-out"),e.css("cursor","zoom-out"));I=!0;var c=d.find("#ivLargeImage");F.left=c.width()-k.width();F.top=c.height()-k.height();var c=e.height()/2,m=e.width()/2;r=[e.offset().left+m,e.offset().top+c];V.top=c-k.height()/2;V.left=m-k.width()/2;k.css({position:"relative",left:V.left,top:V.top});l=Math.max(k.height()/e.height(),k.width()/e.width())}O(a);x.postCountMetric("dpcc_iv_largeImageCLick")}});d.delegate("#ivLargeImage","mousemove",function(a){I&&O(a)})}function ea(){d.find("#ivLargeImage").empty()}
function W(c){if(P){d=e("#ivMain");t();w=k.getCurrentItem();ia();m.populateVariationSelection(d.find("#ivVariationSelection"));c=d.find("#ivThumbs");c.find(".ivRow").not(".placeholder").remove();for(var g=v+D,l=0,p=0;l<g;)for(var r=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),x=0;4>x&&l<g;x++,l++,p++)if(p<v){var q=z[l].thumb,y=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+l,"data-csa-c-type":"item",
"data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":l+1}).appendTo(r);y.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(q)+'") center no-repeat')}else p>=v&&p<D+v&&(q=C[l-v].thumb,y=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(l-v),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image","data-csa-c-posy":l-
v+1}).appendTo(r),y.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(q)+'") center no-repeat'));J();P=!1}else ia();c=e("#ivImagesTab").height();d.css("height",c);g=d.find("#ivTitle").outerHeight(!0);l=d.find("#ivVariationSelection").outerHeight(!0);p=d.find("#ivThumbs");r=m.getDimension(p,"margin-top")+m.getDimension(p,"margin-bottom");p.css("height",c-g-l-r);d.find("#ivLargeImage").css("height",c);c=d.find("#ivStage");g=d[0]&&d[0].getBoundingClientRect&&Math.floor(d[0].getBoundingClientRect().width)||
d.width();c.css("width",g-m.getDimension(d,"padding-left")-m.getDimension(d,"padding-right")-d.find("#ivThumbColumn").width()-m.getDimension(c,"margin-left")-m.getDimension(c,"margin-right"));w=k.getCurrentItem();c="hero-image"===w.type?d.find("#ivHeroImage_"+w.index):"image"===w.type?d.find("#ivImage_"+w.index):a.isDefined(z)?d.find("#ivHeroImage_"+w.index):d.find("#ivImage_"+w.index);a.isjQueryObjDefined(c)||(c=d.find("#ivImage_0"));U(c)}var fa,H,k,d,z,C,v,D,w,y=navigator.userAgent.match(/msie|trident/i),
P=!0,I=!1,g=!1,F={},V={},l,r,P=!0,J=c.once(function(){L();Z();m.attachImmersiveViewResizeHandler(W);m.attachTabDeselectHandler("ivImagesTab",ea)});return function(a,c,d,g){fa=this;H=a;k=c;fa.render=function(a,c,k,d,g,l){P=!0;t();0===v+D?m.hideTabHeading("ivImagesTabHeading"):m.unhideTabHeading("ivImagesTabHeading");1===v+D?e("#ivThumbs").hide():e("#ivThumbs").show()};fa.update=function(a){};m.attachTabSelectHandler("ivImagesTab",W)}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric",
"logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(c,e,a,x,m,ia,t){function p(){var a=L.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),d=a.find(".a-popover-inner"),a=a.height()-t.getDimension(d,"padding-top")-t.getDimension(d,"padding-bottom");e("#iv-tab-view-container").css("height",a);Z=e("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==e(this).css("display")}).length;
1<Z?(e("#iv-tab-view-container ul.iv-tab-views li").parent().show(),d=e("#iv-tab-view-container ul.iv-tab-views li").parent().height(),a-=d):e("#iv-tab-view-container ul.iv-tab-views li").parent().hide();e("#iv-tab-view-container .iv-tab-content").css("height",a);c.trigger("dp:image-block:immersive-view:resize")}function la(){c.trigger("dp:image-block:immersive-view:reset")}function ha(k){if(a.isImmersiveViewEnabled(U,L.getCurrentItem().color))if(W){var d=k.$event.originalEvent;d.acknowledge&&d.acknowledge(k.$currentTarget[0]);
m.isEnabled&&ia.logImmersiveViewRequestServed(m);x.postCountMetric("dppc_immersiveViewOpened");a.isDefined(k)&&("button-360-click"===k.action?e("#iv360TabHeading").click():"videoIngressClick"===k.action?(ea=k.clickTimeStamp,e("#ivVideosTabHeading").click()):"showroomIngressClick"===k.action?(ea=k.clickTimeStamp,e("#ivShowroomTabHeading").click()):e("#ivImagesTabHeading").click());d=L.getImmersiveViewModalInstance();if(a.isDefined(d))d.show();else{k=e("#auiImmersiveViewDiv");var d=Math.min(Math.max(e(q).height()-
150,540),1080),p=Math.min(Math.max(e(q).width()-75,990),1980),d=W.create(k,{name:"immersiveView",activate:"onclick",width:p,height:d,popoverLabel:"ImmersiveView",hideHeader:!0});L.setImmersiveViewModalInstance(d);k.click()}O&&(O=!1,fa(),c.trigger("dp:image-block:immersive-view:init"))}else q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else x.postCountMetric("immersiveViewNotExistsClickCount")}var N,U,
L,M,O=!0,Z=0,ea,W;B.when("a-modal").execute(function(a){W=a});var fa=c.once(function(){c.on("a:popover:afterUpdatePosition:immersiveView",p);c.on("a:popover:afterShow:immersiveView",p);c.on("a:popover:afterHide:immersiveView",la)}),H=c.once(function(){var a=e("#iv-tab-view-container ul.iv-tab-views li");a.bind("click",function(d){var m=a.filter(".iv-active");m.attr("id")!==e(this).attr("id")&&c.trigger("dp:ivTabs:"+m.find("a").attr("data-iv-tab-view")+":deselect",d);a.removeClass("iv-active");e(this).addClass("iv-active");
e("#iv-tab-view-container .iv-tab-content").hide();m=e(this).find("a").attr("data-iv-tab-view");e("#"+m).show();"ivVideosTab"===m&&(d.clickTimeStamp=ea||d.timeStamp);c.trigger("dp:ivTabs:"+m+":select",d);x.postCountMetric("dppc_"+m);return!1})});return function(e,c,p,t){N=this;U=e;L=c;m.refToModel=L;M=t;N.render=function(a,e,c,d,m,k){x.postCountMetric("dpcc_altThumbs_"+e);O=!0};N.update=function(a){};N.getTitle=function(){};N.getVariationSelectionInfo=function(){};H();a.isImmersiveViewEnabled(U,L.getCurrentItem().color)||
a.addTag("immersiveViewNotAvailable");M.register("imageClick",ha);M.register("button360Click",ha);a.useTabbedImmersiveView(U)&&(M.register("videoIngressClick",ha),M.register("showroomIngressClick",ha))}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(c,e,a,x,m,ia,t,p){function la(f){return f.hiRes||f.large||f.main[f.main.length-1]}function ha(){h.find("#ivTitle").click(function(){aa.hide()})}
function N(){u=Pa?{type:"360-spin"}:Q.getCurrentItem()}function U(){var f=h.find("#ivStage"),a=aa.$container.find(".a-popover-wrapper"),e=a.find(".a-popover-inner"),a=a.height()-p.getDimension(e,"padding-top")-p.getDimension(e,"padding-bottom");h.css("height",a);var e=h.find("#ivTitle").outerHeight(!0),b=h.find("#ivVariationSelection").outerHeight(!0),c=h.find("#ivMediaSelection").outerHeight(!0),d=h.find("#ivThumbs"),g=p.getDimension(d,"margin-top")+p.getDimension(d,"margin-bottom");d.css("height",
a-e-b-c-g);h.find("#ivLargeImage").css("height",a);f.css("width",h.width()-p.getDimension(h,"padding-left")-p.getDimension(h,"padding-right")-h.find("#ivThumbColumn").width()-p.getDimension(f,"margin-left")-p.getDimension(f,"margin-right"))}function L(){h.find("#ivMediaSelect").change(function(){var f=e(this).val();"all"===f?(h.find("#ivVideoList").hide(),h.find("#ivThumbs").show(),h.find(".ivThumbVideo").show(),"chromeful-video"===u.type&&h.find("#ivVideo_"+u.index).click()):"images"===f?(h.find("#ivVideoList").hide(),
h.find("#ivThumbs").show(),h.find(".ivThumbVideo").hide(),"chromeful-video"===u.type&&(0===R&&0===G?h.find("#iv360").click():0===R?h.find("#ivHeroImage_0").click():h.find("#ivImage_0").click())):"videos"===f&&(h.find("#ivVideoList").show(),h.find("#ivThumbs").hide(),"chromeful-video"!==u.type?h.find("#ivVideoList_0").click():h.find("#ivVideoList_"+u.index).click())})}function M(){var f=h.find("#ivStage").find("#ivLargeImage"),a=f.width(),e=f.height(),b=f.find(".fullscreen");b.removeAttr("style");
var c=b.width(),d=b.height();0<b.length&&(b[0].naturalWidth&&(c=b[0].naturalWidth),b[0].naturalHeight&&(d=b[0].naturalHeight));f.css("cursor","auto");var c=0===c?1:c,d=0===d?1:d,g=Math.min(a/c,e/d),m=d*g,l=c*g;1>g?(Qa?f.css("cursor","url('"+n.staticImages.zoomIn+"'), auto"):(f.css("cursor","-webkit-zoom-in"),f.css("cursor","-moz-zoom-in"),f.css("cursor","zoom-in")),Aa=!0):Aa=!1;c=Math.min(l,c);d=Math.min(m-20,d);b.css({"margin-top":(e-d)/2,"margin-left":(a-c)/2,height:d,width:c});f.css("visibility",
"visible");Ba=!1}function O(f){var a=h.find("#ivLargeImage");a.css("visibility","hidden");a.empty();p.animateStageIn(a);a.append(f);M()}function Z(){A&&A.pause();h.find("#ivLarge360").css("display","none");h.find("#ivLargeVideo").css("display","none");h.find("#ivLargeImage").css("display","none");z()}function ea(f){Z();h.find("#ivLargeImage").css("display","block");var b;"hero-image"===f?a.isDefined(X)&&(b=la(X[u.index])):a.isDefined(ja)&&(b=la(ja[u.index]));if(a.isDefined(b)){h.find(".fullscreen").remove();
var c=e("\x3cimg\x3e").attr("src",b).addClass("fullscreen"),d=h.find("#ivLargeImage");p.animateStageOut(d,function(){c.load(function(){O(c)});if(c[0].complete)O(c);else{d.empty();var f=(d.height()-104)/2,a=(d.width()-80)/2;e("\x3cimg\x3e").attr("src",n.staticImages.spinner).css({position:"relative",top:f+"px",left:a+"px"}).appendTo(d)}})}}function W(){var f=parseInt(u.index,10)+1;f>=ga.length||h.find("#ivVideo_"+f).click()}function fa(){var f;a.isDefined(ga)&&(f=ga[u.index]);if(a.isDefined(f)){Z();
var b=h.find("#ivLargeVideo").css("display","block");A?(A.isDetached()&&A.attach(b[0]),a.loadMediaIntoAiry(A,f,xa,n.tabletWeb),A.show()):(A=a.createAiryInstanceForChromeful(b,f,xa,"ImmersiveView"),xa.enableContinuousPlay&&A.bind("ended",W));A.play({isAsync:!0})}}function H(){N();var f;f="hero-image"===u.type?h.find("#ivHeroImage_"+u.index):"image"===u.type?h.find("#ivImage_"+u.index):"chromeful-video"===u.type||"chromeless-video"===u.type?h.find("#ivVideo_"+u.index):"360-spin"===u.type?h.find("#iv360"):
a.isDefined(X)?h.find("#ivHeroImage_"+u.index):h.find("#ivImage_"+u.index);a.isjQueryObjDefined(f)||(f=h.find("#ivImage_0"));k(f)}function k(f){h.find(".ivThumb").removeClass("selected");f.addClass("selected");f.hasClass("ivThumbVideo")?(u.type="chromeful-video",u.index=f.attr("id").split("_")[1],fa()):f.hasClass("ivHeroImage")?(u.type="hero-image",u.index=f.attr("id").split("_")[1],ea(u.type)):f.hasClass("iv360Image")?(u.type="360-spin",u.index=0,d()):(u.type="image",u.index=f.attr("id").split("_")[1],
ea(u.type))}function d(){Z();h.find("#ivLarge360").css("display","block");y();var f=h.find("#ivLarge360");f.css({opacity:0});setTimeout(function(){f.css({opacity:.4});p.animateStageIn(f)},200);v();m.postCountMetric("dppc_click360");ta=Date.now()}function z(){0<ta&&(C("dppc_duration360",Date.now()-ta),ta=0)}function C(f,a){q.ue&&q.ue.count(f,a)}function v(){if(0<qa){var f=h.find(".iv360Hint");f.removeClass("iv360HintFaded");f.animate({opacity:1},200)}}function D(f,a){if(qa<f.length){var b=e("\x3cimg /\x3e").css({display:"block",
width:6*pa+"px",height:ua+"px"});b.hide();a.append(b);b.get(0).onload=function(){a.closest(document.documentElement).length&&(qa++,1===qa&&(v(),0<ta&&C("dppc_loadTime360",Date.now()-ta)),0<Ha&&C("dppc_perSpriteloadTime360",Date.now()-Ha),h.find("#iv360Spinner").hide(),b.show(),ya=5*E.imageLocations[Math.floor(za/E.imageLocations[0].length)][za%E.imageLocations[0].length],D(f,a))};b.attr("src",f[qa].replace(/(\._SP)\d+(,)\d+/,"$1"+va+"$2"+wa));Ha=Date.now()}}function w(f){if(a.isDefined(E.spriteWidthSizes)&&
0<E.spriteWidthSizes.length){var b=E.spriteWidthSizes,e=b.length,c=b[0],d=b[e-1];if(f<=c)return c;if(f>d)return d;for(c=0;c<e;c++)if(f>b[c]&&f<=b[c+1])return b[c+1]}else return f}function y(){var f=h.find("#ivLarge360");f.children("#image-360-sprites").length||(f.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),f.css({"margin-left":0,"margin-top":0,width:f.parent().width(),height:f.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none",
"-mos-user-select":"none"}),e("\x3cimg\x3e").attr("src",n.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(f),Ia=!0,P())}function P(){if(a.isDefined(E.spriteURLs)&&a.isDefined(h)&&Ia&&!Ja){var f=h.find("#ivLarge360"),b=e("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});a.isDefined(E.staticImages.hint360)&&e("\x3cimg\x3e").css({"margin-left":"auto",
"margin-right":"auto",display:"block"}).attr("src",E.staticImages.hint360).appendTo(b);e("\x3cdiv\x3e").css({"text-align":"center"}).text(n.staticStrings.dragToSpin).appendTo(b);b.appendTo(f);var b=E.imageWidth,c=E.imageHeight,d=f.parent().width(),m=f.parent().height(),k=0,u=0;b/c>d/m?(va=w(d),wa=Math.round(c/b*va),pa=Math.ceil(d),ua=Math.ceil(wa/va*d),u=(m-ua)/2):(wa=w(m),va=Math.round(b/c*wa),ua=Math.ceil(m),pa=Math.ceil(va/wa*m),k=(d-pa)/2);f.css({"margin-left":k,"margin-top":u,width:pa+"px",height:ua+
"px",overflow:"hidden",position:"relative"});f.children("#image-360-sprites").css("width",6*pa+"px");D(E.spriteURLs,h.find("#image-360-sprites"),0);b=h.find("#ivLarge360");b.bind("mousedown",V);b.bind("touchstart",I);b.bind("touchmove",g);b.bind("touchend",F);e(document).bind("mousemove",l);e(document).bind("mouseup",r);a.isDefined(n.staticImages.grab)&&f.css("cursor","url('"+n.staticImages.grab+"'), auto");Ja=!0}}function I(f){Ca=!0;Ka=f.originalEvent.targetTouches[0].clientX}function g(f){Ca&&(J(f.originalEvent.targetTouches[0].clientX-
Ka),Ka=f.originalEvent.targetTouches[0].clientX)}function F(f){Ca&&(Ca=!1)}function V(f){Da=!0;La=f.originalEvent.clientX;a.isDefined(n.staticImages.grabbing)&&(f=h.find("#ivLarge360"),f.css("cursor","url('"+n.staticImages.grabbing+"'), auto"),f.parents(".a-declarative").last().css("cursor","url('"+n.staticImages.grabbing+"'), auto"));return!1}function l(f){Da&&(J(f.originalEvent.clientX-La),La=f.originalEvent.clientX)}function r(f){Da&&(Da=!1,a.isDefined(n.staticImages.grab)&&(f=h.find("#ivLarge360"),
f.css("cursor","url('"+n.staticImages.grab+"'), auto"),f.parents(".a-declarative").last().css("cursor","auto")))}function J(f){for(f=ya-=f/pa*180;0>f;)f+=360;for(;360<f;)f-=360;ya=f;var b;f=360;for(var c=0;c<qa;c++)for(var e=0;e<E.imageLocations[c].length;e++){var d=Math.abs(ya-5*E.imageLocations[c][e]);d<f&&(f=d,b=c*E.imageLocations[0].length+e)}b!==za&&(f=Math.floor(b/E.imageLocations[0].length),f!==Math.floor(za/E.imageLocations[0].length)&&(a.isDefined(Ma)||(Ma=document.createElement("canvas").getContext("2d")),
c=h.find("#image-360-sprites").children(),Ma.drawImage(c[f],0,0)),f=h.find(".iv360Hint").not(".iv360HintFaded"),a.isDefined(f)&&(f.addClass("iv360HintFaded"),f.animate({opacity:0},750)));za=b;f=b%E.imageLocations[0].length*-1*pa;b=-1*Math.floor(b/E.imageLocations[0].length)*ua;c=h.find("#ivLarge360").children("#image-360-sprites");c.css("-webkit-transform","translate3d("+f+"px, "+b+"px, 0)");c.css("transform","translate3d("+f+"px, "+b+"px, 0)")}function S(){h.delegate(".ivThumb","click",function(){var f=
e(this);k(f)});h.delegate(".ivThumbVideoListOuter","click",function(){h.find(".ivThumbVideoListOuter").removeClass("selected");var f=e(this);f.addClass("selected");u.type="chromeful-video";u.index=f.attr("id").split("_")[1];fa()})}function ba(){A&&!A.isDetached()&&(xa.volume=A.getVolume(),A.detach(),!document.all||q.atob||document.addEventListener||(A=null));h.find("#ivLargeImage").empty();z()}function ca(f,a){return 0<a?a/2:Math.min(0,Math.max(a,f))}function T(a){var b=ra.left-(a.pageX-Ea[0])*Fa;
c.capabilities.rtl&&(b=ra.left-(e(q).width()-a.pageX-Ea[0])*Fa);a=ra.top-(a.pageY-Ea[1])*Fa;b=ca(b,Ga.left);a=ca(a,Ga.top);h.find(".fullscreen").css({left:b,top:a})}function ma(){h.delegate("#ivLargeImage","click",function(a){if(Ba)M();else if(Aa){h.find(".fullscreen").removeAttr("style");if(Aa){var b=h.find("#ivLargeImage"),c=b.find(".fullscreen");Qa?b.css("cursor","url('"+n.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));
Ba=!0;var e=h.find("#ivLargeImage");Ga.left=e.width()-c.width();Ga.top=e.height()-c.height();var e=b.height()/2,d=b.width()/2;Ea=[b.offset().left+d,b.offset().top+e];ra.top=e-c.height()/2;ra.left=d-c.width()/2;c.css({position:"relative",left:ra.left,top:ra.top});Fa=Math.max(c.height()/b.height(),c.width()/b.width())}T(a)}});h.delegate("#ivLargeImage","mousemove",function(a){Ba&&T(a)})}function da(f){if(a.isImmersiveViewEnabled(n,Q.getCurrentItem().color))if(Na){var d=f.$event.originalEvent;d.acknowledge&&
d.acknowledge(f.$currentTarget[0]);Pa=a.isDefined(f)&&"button-360-click"===f.action;ia.isEnabled&&t.logImmersiveViewRequestServed(ia);m.postCountMetric("dppc_immersiveViewOpened");if(a.isDefined(aa))aa.show();else{f=e("#auiImmersiveViewDiv");var d=e(q).height()-150,g=e(q).width()-75;aa=Na.create(f,{name:"immersiveView",activate:"onclick",width:g,height:d,popoverLabel:"ImmersiveView",hideHeader:!0});f.click()}if(Oa){h=e("#ivMain");f=Q.getCurrentItem().color;ja=n.colorImages[f];X=n.heroImage[f];ga=
n.useChildVideos?n.colorToVideo[f]:n.videos;Ra=K()&&n.spin360ColorEnabled[f];E=K()?n.spin360ColorData[f]:sa;N();oa=G=b=R=0;a.isDefined(X)&&(G=X.length);a.isDefined(ja)&&(R=ja.length);a.isDefined(ga)&&(b=ga.length);Ra&&(oa=1);p.populateTitle(h.find("#ivTitle"),45,n);p.populateVariationSelection(h.find("#ivVariationSelection"));f=h.find("#ivMediaSelect");0===R+oa||0===b?(f.parent().hide(),h.find("#ivThumbs").addClass("noMediaSelection")):(f.empty(),e("\x3coption/\x3e").attr("value","all").prop("selected",
!0).text(n.staticStrings.allMedia+" ("+(G+R+oa+b)+")").appendTo(f),e("\x3coption/\x3e").attr("value","images").text(n.staticStrings.images+" ("+(G+R+oa)+")").appendTo(f),e("\x3coption/\x3e").attr("value","videos").text(n.staticStrings.videos+" ("+b+")").appendTo(f),f.parent().show(),f.val("all"));f=h.find("#ivThumbs");f.find(".ivRow").not(".placeholder").remove();for(var d=G+R+b+oa,l=g=0;g<d;)for(var k=f.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(f),u=0;3>u&&g<d;u++,g++,
l++)if(l<G){var A=X[g].thumb,r=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+g).appendTo(k);r.find(".ivThumbImage").css("background",'url("'+p.getResizedThumbnailURL(A)+'") center no-repeat')}else if(l>=G&&l<R+G)A=ja[g-G].thumb,r=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(g-G)).appendTo(k),r.find(".ivThumbImage").css("background",'url("'+p.getResizedThumbnailURL(A)+'") center no-repeat');
else if(l>=G+R&&l<R+G+oa)r=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(k),r.find(".ivThumbImage").css("background",'url("'+(a.isDefined(n.staticImages.icon360)?p.getResizedThumbnailURL(n.staticImages.icon360,!0):"")+'") center no-repeat');else if(A=ga[g-R-G-oa],r=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(g-R-G-oa)).appendTo(k),r.find(".ivThumbImage").css("background",
'url("'+A.thumbUrl+'") center no-repeat'),a.isDefined(A)){var x={position:"triggerTop"},v=h.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");v.find(".ivVideoPopoverTitle").text(A.title);v.find(".ivVideoPopoverDuration").text(A.durationTimestamp);x.inlineContent=v[0];c.declarative.create(r,"a-tooltip",x)}f=h.find("#ivVideoList");f.find(".ivThumbVideoListOuter").not(".placeholder").remove();d=f.find(".placeholder");for(g=0;g<b;g++)l=ga[g],k=d.clone().removeClass("placeholder").appendTo(f),
k.attr("id","ivVideoList_"+g),k.find(".ivThumbImage").css("background",'url("'+l.thumbUrl+'") center no-repeat'),k.find(".ivThumbTitle").text(l.title),k.find(".ivThumbDuration").text(l.durationTimestamp);h.find("#ivLarge360").empty();qa=0;Ja=Ia=!1;xa=n.airyConfig;Oa=!1;Sa()}}else q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else m.postCountMetric("immersiveViewNotExistsClickCount")}function na(b){var c=
n.colorToAsin[b],e={},d=500;if(c&&c.asin){e.params={asin:c.asin};var g="360"+c.asin,h=Date.now();e.success=function(c){C("dppc_asyncRequestTime360",Date.now()-h);c&&a.isDefined(c.spin360.spin360Model)?(a.ajaxState(g,"success"),n.spin360ColorData[b]=c.spin360.spin360Model,b===Q.getCurrentItem().color&&(E=n.spin360ColorData[b],P())):e.error()};e.error=function(){m.postCountMetric("dppc_asyncFailed360");C("dppc_asyncRequestTime360",Date.now()-h);d*=2;16E3>=d?setTimeout(function(){h=Date.now();x.load("/gp/product/features/apparel-main-image/360.html",
e)},d):a.ajaxState(g,"fail")};a.ajaxState(g)&&"fail"!==a.ajaxState(g)||(x.load("/gp/product/features/apparel-main-image/360.html",e),a.ajaxState(g,"sent"))}}function K(){return a.isDefined(n.spin360ConfigEnabled)&&n.spin360ConfigEnabled}var Y,n,Q,ka,aa,h,X,ja,ga,G,R,b,oa,u,A,xa,E,Ra,pa,ua,wa,va,La,Ka,Pa=!1,Ia=!1,Ja=!1,ya=0,za=0,ta=0,Ha=0,Da=!1,Ca=!1,qa=0,Ma,Qa=navigator.userAgent.match(/msie|trident/i),Oa=!0,Ba=!1,Aa=!1,Ga={},ra={},Fa,Ea,Na;B.when("a-modal").execute(function(a){Na=a});var Sa=c.once(function(){L();
S();ma();c.on("a:popover:afterUpdatePosition:immersiveView",U);c.on("a:popover:afterShow:immersiveView",H);c.on("a:popover:afterHide:immersiveView",ba);ha()});return function(b,d,g,h){Y=this;n=b;Q=d;ia.refToModel=Q;ka=h;K()&&(n.spin360ColorData[n.landingAsinColor]=n.spin360ColorData[n.defaultColor],n.spin360ColorEnabled[n.landingAsinColor]=n.spin360ColorEnabled[n.defaultColor]);a.isDefined(n.staticImages.icon360)&&e("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",p.addStyleCodeToURL(n.staticImages.icon360,
"_FMpng_RI_"));Y.render=function(b,f,e,d,g,h){Oa=!0;K()&&n.spin360ColorEnabled[b]&&!a.isDefined(n.spin360ColorData[b])&&(n.spin360ColorData[b]={},na(b));a.isImmersiveViewEnabled(n,Q.getCurrentItem().color)&&K()&&n.spin360ColorEnabled[b]&&(f===n.maxAlts&&(b=d.find(".item.imageThumbnail"),e=d.find(".item.videoThumbnail"),a.isDefined(e)&&1<e.length?e.last().remove():b.last().remove(),f--),b=d.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
c.declarative.create(b,"button-360-click"),d.append(b),f++,m.postCountMetric("dppc_display360"));return f};Y.update=function(b){};a.isImmersiveViewEnabled(n,Q.getCurrentItem().color)||a.addTag("immersiveViewNotAvailable");ka.register("imageClick",da);ka.register("button360Click",da)}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",
function(c,e,a,x,m,q,t,p,B){function ha(){var b=e("#iv360Tab").height();l.css("height",b);var a=l.find("#ivTitle360").outerHeight(!0),c=l.find("#ivVariationSelection360").outerHeight(!0),d=l.find("#ivThumbs360"),g=t.getDimension(d,"margin-top")+t.getDimension(d,"margin-bottom");d.css("height",b-a-c-g);b=l.find("#ivStage360");a=l[0]&&l[0].getBoundingClientRect&&Math.floor(l[0].getBoundingClientRect().width)||l.width();b.css("width",a-t.getDimension(l,"padding-left")-t.getDimension(l,"padding-right")-
l.find("#ivThumbColumn360").width()-t.getDimension(b,"margin-left")-t.getDimension(b,"margin-right"))}function N(){O();var b=l.find("#ivLarge360");b.css({opacity:0});setTimeout(function(){b.css({opacity:.4});t.animateStageIn(b)},200);U()}function U(){if(0<h){var b=l.find(".iv360Hint");b.removeClass("iv360HintFaded");b.animate({opacity:1},200)}}function L(b,a){if(h<b.length){var c=e("\x3cimg /\x3e").css({display:"block",width:6*J+"px",height:S+"px"});c.hide();a.append(c);c.get(0).onload=function(){a.closest(document.documentElement).length&&
(h++,1===h&&(U(),0<n&&(m.time("dppc_loadTime360",Date.now()-n,g.mediaAsin),q.postTimeMetric("dppc_loadTime360",Date.now()-n))),0<Q&&(m.time("dppc_perSpriteloadTime360",Date.now()-Q,g.mediaAsin),q.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-Q)),l.find("#iv360Spinner").hide(),c.show(),K=5*r.imageLocations[Math.floor(Y/r.imageLocations[0].length)][Y%r.imageLocations[0].length],L(b,a))};c.attr("src",b[h].replace(/(\._SP)\d+(,)\d+/,"$1"+ca+"$2"+ba));Q=Date.now()}}function M(b){if(a.isDefined(r.spriteWidthSizes)&&
0<r.spriteWidthSizes.length){var c=r.spriteWidthSizes,e=c.length,d=c[0],g=c[e-1];if(b<=d)return d;if(b>g)return g;for(d=0;d<e;d++)if(b>c[d]&&b<=c[d+1])return c[d+1]}else return b}function O(){var b=l.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none",
"-mos-user-select":"none"}),e("\x3cimg\x3e").attr("src",g.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),da=!0,Z())}function Z(){if(a.isDefined(r.spriteURLs)&&a.isDefined(l)&&da&&!na){var b=l.find("#ivLarge360"),c=e("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});a.isDefined(r.staticImages.hint360)&&e("\x3cimg\x3e").css({"margin-left":"auto",
"margin-right":"auto",display:"block"}).attr("src",r.staticImages.hint360).appendTo(c);e("\x3cdiv\x3e").css({"text-align":"center"}).text(g.staticStrings.dragToSpin).appendTo(c);c.appendTo(b);var c=r.imageWidth,h=r.imageHeight,m=b.parent().width(),n=b.parent().height(),X=0,p=0;c/h>m/n?(ca=M(m),ba=Math.round(h/c*ca),J=Math.ceil(m),S=Math.ceil(ba/ca*m),p=(n-S)/2):(ba=M(n),ca=Math.round(c/h*ba),S=Math.ceil(n),J=Math.ceil(ca/ba*n),X=(m-J)/2);b.css({"margin-left":X,"margin-top":p,width:J+"px",height:S+
"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*J+"px");L(r.spriteURLs,l.find("#image-360-sprites"),0);c=l.find("#ivLarge360");c.bind("mousedown",H);c.bind("touchstart",ea);c.bind("touchmove",W);c.bind("touchend",fa);e(document).bind("mousemove",k);e(document).bind("mouseup",d);a.isDefined(g.staticImages.grab)&&b.css("cursor","url('"+g.staticImages.grab+"'), auto");na=!0}}function ea(b){aa=!0;ma=b.originalEvent.targetTouches[0].clientX}function W(b){aa&&
(z(b.originalEvent.targetTouches[0].clientX-ma),ma=b.originalEvent.targetTouches[0].clientX)}function fa(b){aa&&(aa=!1)}function H(b){ka=!0;T=b.originalEvent.clientX;a.isDefined(g.staticImages.grabbing)&&(b=l.find("#ivLarge360"),b.css("cursor","url('"+g.staticImages.grabbing+"'), auto"),b.parents(".a-declarative").last().css("cursor","url('"+g.staticImages.grabbing+"'), auto"));return!1}function k(b){ka&&(z(b.originalEvent.clientX-T),T=b.originalEvent.clientX)}function d(b){ka&&(ka=!1,a.isDefined(g.staticImages.grab)&&
(b=l.find("#ivLarge360"),b.css("cursor","url('"+g.staticImages.grab+"'), auto"),b.parents(".a-declarative").last().css("cursor","auto")))}function z(b){K-=b/J*180;ja&&(m.count("dppc_360dragToSpin",g.mediaAsin),q.postCountMetric("dppc_360dragToSpin"));ja=!1;for(b=K;0>b;)b+=360;for(;360<b;)b-=360;K=b;var c;b=360;for(var e=0;e<h;e++)for(var d=0;d<r.imageLocations[e].length;d++){var k=Math.abs(K-5*r.imageLocations[e][d]);k<b&&(b=k,c=e*r.imageLocations[0].length+d)}c!==Y&&(b=Math.floor(c/r.imageLocations[0].length),
b!==Math.floor(Y/r.imageLocations[0].length)&&(a.isDefined(X)||(X=document.createElement("canvas").getContext("2d")),e=l.find("#image-360-sprites").children(),X.drawImage(e[b],0,0)),b=l.find(".iv360Hint").not(".iv360HintFaded"),a.isDefined(b)&&(b.addClass("iv360HintFaded"),b.animate({opacity:0},750)));Y=c;b=c%r.imageLocations[0].length*-1*J;c=-1*Math.floor(c/r.imageLocations[0].length)*S;e=l.find("#ivLarge360").children("#image-360-sprites");e.css("-webkit-transform","translate3d("+b+"px, "+c+"px, 0)");
e.css("transform","translate3d("+b+"px, "+c+"px, 0)")}function C(){if(G){l=e("#ivMain360");var b=F.getCurrentItem().color;D()&&w(b);r=D()?g.spin360ColorData[b]:sa;t.populateTitle(l.find("#ivTitle360"),160,g);t.populateVariationSelection(l.find("#ivVariationSelection360"));l.find("#ivLarge360").empty();h=0;na=da=!1;Y=K=0;R();G=!1}0!==e("#iv360Tab").height()&&(t.detachImmersiveViewResizeHandler(C),ha(),N(),n=Date.now(),ga=ja=!0,m.count("dppc_click360",g.mediaAsin),q.postCountMetric("dppc_click360"))}
function v(b,c,e){b=g.colorToAsin[e];var d={},h=500;if(!b||!b.asin)if(e===g.defaultColor)b={asin:g.winningAsin};else return;d.params={asin:b.asin};var k="360"+b.asin,l=Date.now();d.success=function(b){m.time("dppc_asyncRequestTime360",Date.now()-l,g.mediaAsin);q.postTimeMetric("dppc_asyncRequestTime360",Date.now()-l);b&&a.isDefined(b.spin360)?((b=b.spin360.spin360Model)&&p.setData(b),a.ajaxState(k,"success")):d.error()};d.error=function(){m.count("dppc_asyncFailedTransient360",g.mediaAsin);q.postCountMetric("dppc_asyncFailedTransient360");
m.time("dppc_asyncRequestTime360",Date.now()-l,g.mediaAsin);q.postTimeMetric("dppc_asyncRequestTime360",Date.now()-l);h*=2;16E3>=h?setTimeout(function(){l=Date.now();x.load("/gp/product/features/apparel-main-image/360.html",d)},h):(m.count("dppc_asyncFailed360",g.mediaAsin),q.postCountMetric("dppc_asyncFailed360"),a.ajaxState(k,"fail"))};a.ajaxState(k)&&"fail"!==a.ajaxState(k)||(x.load("/gp/product/features/apparel-main-image/360.html",d),a.ajaxState(k,"sent"))}function D(){return g&&a.isDefined(g.spin360ConfigEnabled)&&
g.spin360ConfigEnabled}function w(b){return a.isDefinedAndNotEmpty(g.spin360ColorData[b])?!0:a.isDefined(g.spin360LazyLoadEnabled)&&g.spin360LazyLoadEnabled}function y(){ga&&(m.time("dppc_duration360",Date.now()-n,g.mediaAsin),q.postTimeMetric("dppc_duration360",Date.now()-n),ga=!1)}function P(b){b=g.colorToAsin[b.color]&&g.colorToAsin[b.color].asin;b||(b=g.mediaAsin);return b}var I,g,F,V,l,r,J,S,ba,ca,T,ma,da=!1,na=!1,K=0,Y=0,n=0,Q=0,ka=!1,aa=!1,h=0,X,ja=!0,ga=!1,G=!0,R=c.once(function(){t.attachImmersiveViewResizeHandler(C);
t.attachImmersiveViewResizeHandler(ha);t.attachImmersiveViewResetHandler(y);t.attachTabDeselectHandler("iv360Tab",y)});return function(b,d,h,k){I=this;g=b;F=d;V=k;b=g.landingAsinColor;d=g.defaultColor;a.isDefined(g.staticImages.icon360)&&e("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",t.addStyleCodeToURL(g.staticImages.icon360,"_FMpng_RI_"));D()&&(g.spin360ColorData||(g.spin360ColorData={}),b===d&&a.isDefinedAndEmpty(g.spin360ColorData[d])&&delete g.spin360ColorData[d]);
c.on(B.TWISTER_DATA_EVENT,function(b){P(F.getCurrentItem())===b&&(r=p.getData(b),Z(),b={type:"updatedData",data:F.getCurrentItem()},V.dispatch("updateView",b))});I.render=function(b,d,h,k,l,n){G=!0;!D()||a.isDefinedAndEmpty(g.spin360ColorData[b])&&!p.getData(P(F.getCurrentItem()))?t.hideTabHeading("iv360TabHeading"):(g.spin360ColorData[b]=p.getData(P(F.getCurrentItem())),a.isDefinedAndNotEmpty(g.spin360ColorData[b])?(e("#ivThumbs360").hide(),t.unhideTabHeading("iv360TabHeading"),a.isImmersiveViewEnabled(g,
F.getCurrentItem().color)&&D()&&w(b)&&(d===g.maxAlts&&(b=k.find(".item.imageThumbnail"),d=k.find(".item.videoThumbnail"),a.isDefined(d)&&1<d.length?d.last().remove():b.last().remove()),b=k.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),c.declarative.create(b,"button-360-click"),k.append(b),m.count("dppc_display360",g.mediaAsin),q.postCountMetric("dppc_display360"))):a.isDefined(g.spin360LazyLoadEnabled)&&g.spin360LazyLoadEnabled?(g.spin360ColorData[b]=
{},t.hideTabHeading("iv360TabHeading"),v(k,d,b)):t.hideTabHeading("iv360TabHeading"))};I.update=function(b){};t.attachTabSelectHandler("iv360Tab",C)}});B.register("nexusLogger360",function(){return{count:function(c,e){q.ue&&q.ue.event({asin:e,metricName:c,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(c,e,a){q.ue&&q.ue.event({asin:a,metricName:c,metricValue:e},"hit-360","hit360.clientEvent.3")}}});B.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});
B.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(c,e){var a={};return{setData:function(q){var m=q.asin;a[m]||(a[m]=q,c.trigger(e.TWISTER_DATA_EVENT,m))},getData:function(c){return a[c]}}});"use strict";B.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(c){function e(){this.render=function(){};this.update=function(){}}return function(a,q,m,ia){var t=!1,p=new e;B.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(c){c!==
sa&&(t=!0,p=new c(a,q,m,ia))});a&&!0===a.showroomEnabled&&!1===t&&c.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return p}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(c,e,a,x,m,B,t){function p(){v.delegate(".ivThumb","click",function(){var a=e(this);v.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")&&
(D.type="chromeful-video",D.index=a.attr("id").split("_")[1])})}function la(){if(da){var a=e("#ivVideosTab").height();v.css("height",a);var c=v.find(".vse-lb-container");w=a-m.getDimension(c,"padding-top")-m.getDimension(c,"padding-bottom");c.css({"max-height":a,overflow:"hidden"});if(ba){v.css({"max-width":Math.floor(1.77*w)});return}var a=v.find(".vse-player-container"),c=v.find(".vse-video-action-strip"),d=v.find(".vse-lb-video-metadata"),g=Math.floor(w-m.getDimension(d,"height")-m.getDimension(c,
"height")),h=Math.floor(1.77*g);a.css({"max-height":g,"max-width":h,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":h,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":h,marginLeft:"auto",marginRight:"auto"})}ca&&(a=v.find(".vse-vertical-scroll"),c=m.getDimension(a,"margin-top")+m.getDimension(a,"margin-bottom"),a.css("max-height",w-c))}function ha(){N();y&&y.pause();T=!1;J=!0;F=null;ma=!0;da=!1}function N(){T=!1;y&&y.pause()}function U(g){F=g.clickTimeStamp?g.clickTimeStamp:c.now();
a.isDefined(C)&&(C.eventTimestamp=F);T=!0;S&&(t.get(c,"#ivVideoBlock",z,aa,h),v=e("#ivVideoBlock"),d.getCurrentItem(),D=d.getCurrentItem(),n(),W());la();S=!1;O()}function L(a){S&&(v=e("#ivVideoBlock"),d.getCurrentItem(),D=d.getCurrentItem(),n());T&&O();la()}function M(a){y=a.player;x.postTimeMetric("vse_ib_desktop_player_initialisation_duration",c.now()-Y);k.imageBlockRenderingStartTime&&x.postTimeMetric("vse_ib_desktop_time_to_player_interactive",c.now()-k.imageBlockRenderingStartTime);da&&(W(),
O())}function O(){if(y&&T&&(v.find(".vse-lb-container").animate({opacity:1},200),y.play(C),x.postCountMetric("dpcc_vse_videoBlock_video_played"),J)){var a=q.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,x.postTimeMetric("dpcc_vse_vitff",a),J=!1)}}function Z(){c.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function ea(a){P=a.popover.$popover;da=!0;W()}function W(){if(da&&ma&&T&&y){P.addClass(c.$(P).find(".vse-lb-container").data("cssClass"));var a=C;na&&(a=K,na=
!1);c.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});la();ma=!1}}function fa(a){document.getElementsByClassName("videoBlockIngress")[0].click();K=a;na=!0}var H,k,d,z,C,v,D,w,y,P,I,g,F,V,l,r,J=!0,S=!0,ba=!1,ca=!1,T=!1,ma=!0,da=!1,na=!1,K,Y=0,n=c.once(function(){p();m.attachImmersiveViewResizeHandler(L);m.attachTabDeselectHandler("ivVideosTab",N);m.attachImmersiveViewResetHandler(ha)}),Q=function(c,g,h){e("#ivVideoBlockSpinner").addClass("aok-hidden");
x.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+g.placement);c=d.getCurrentItem().color;c=a.getVideoHash(c,0,k);y||(y=a.createAiryInstanceForChromeful(e("#ivVideoBlock"),c,k.airyConfig,"ImmersiveView"));ba=!0;e("#ivVideoBlock").css({"max-width":1.77*w,margin:"0 auto"});T&&ba&&y.play({isAsync:!0})},ka=function(a,c,d){S||t.get(a,"#ivVideoBlock",z,aa,h);e("#ivVideoBlockSpinner").addClass("aok-hidden")},aa=function(a,c,d){ca=!0;la()},h=function(a,c,d){x.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+
c.pageContext.placement+"_"+c.configuration.type)};return function(e,h,n,p){H=this;k=e;d=h;H.render=function(e,b,h,n,p,q){e=d.getCurrentItem().color;b=a.getVideoHash(e,0,k);!0===q?I=k.mediaAsin:(I=k.colorToAsin[e]&&k.colorToAsin[e].asin,I=a.isDefined(I)?I:k.mediaAsin);g=null!==k.vseVideoDataSourceTreatment&&"T1"===k.vseVideoDataSourceTreatment?"ASIN":"physicalID";V=k.contentWeblab;l=k.contentWeblabTreatment;r=k.parentAsin||"";S=!0;-1===b?m.hideTabHeading("ivVideosTabHeading"):(m.unhideTabHeading("ivVideosTabHeading"),
z={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:b.marketPlaceID,locale:b.languageCode,product:{contentID:I,contentIDType:"ASIN",parentContentID:r,parentContentIDType:"ASIN"},video:{contentID:b.mediaObjectId,contentIDType:g,videoURL:b.url,imageURL:b.slateUrl},requestId:k.dpRequestId,weblabContext:[{name:V,assignment:l,ignoreForG2S2Key:!0}],metadata:{ProductTitle:k.title}},C={videoUrl:z.video.videoURL,contentId:z.video.contentID,duration:0,vendorCode:"",eventTimestamp:a.isDefined(F)?
F:c.now(),imageUrl:z.video.imageURL,productAsin:z.product.contentID,index:0},a.isDefinedAndNotEmpty(y)&&(y.destroy(),y=null),Y=c.now(),B.get(c,"#ivVideoBlock",z,ka,Q))};H.update=function(a){};m.attachTabSelectHandler("ivVideosTab",U);c.on("vsePlayer-detailpage-imageblock",M);c.on("a:popover:afterShow:immersiveView",ea);c.on("a:popover:beforeHide:immersiveView",Z);c.on("detailpage-imageblock-leave-pip",fa)}})});
/* ******** */
(function(b){var f=window.AmazonUIPageJS||window.P,h=f._namespace||f.attributeErrors,a=h?h("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):f;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,f,h){b.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,c){try{var d=a.$,e=d("#featurebullets_feature_div"),k=d("#productOverview_feature_div");if(e&&0<e.length&&(c.postCountMetric("FeatureBulletsRendered.GV"),k&&
0<k.length)){c.postCountMetric("FeatureBulletsRenderedWithPO.GV");var g=d("#featurebullets_feature_div .a-expander-container");g&&0<g.length&&"feature-bullets-expander"===g.data("aExpanderName")&&(c.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){c.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){c.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(l){b.log("Feature bullets metric logging failed with error: ( "+
l+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";b.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,c,d,e,k){var g=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=d.colorImages,c=0,b;for(b in a)a[b]&&a[b].length&&(c+=a[b].length);a="image_size_bucket:gt"+g[g.length-1];for(b=1;b<g.length;b++)if(c<=g[b]){a="image_size_bucket:"+g[b-1]+"-"+g[b];break}k.postCountMetric(a);e.addTag(a)})();(function(){var a=c.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,f.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=d.lazyLoadExperienceDisabled;e.isDefined(d.lazyLoadExperienceDisabled)&&!a&&(k.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),e.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";b.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});b.register("postEarlyMetric",function(){return null});"use strict";b.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var c=f.ue;if(c){var b=c.count(a)||0;c.count(a,b+1)}}},postTimeMetric:function(a,c){if("undefined"!==typeof a&&"undefined"!==typeof c){var b=f.ue;b&&b.count(a,c)}},emitNexusMetric:function(a){f.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.3",{ssd:!1})},buildNexusMetric:function(a,b,d,e,k,g,f,h){return{eventSource:"IBCarousel",placementContext:h,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:b,videoAsin:d,videoAsinList:"",
groupType:e,pageUrl:k,pageAsin:g,weblabIds:f}}}});b.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,b,d){var e=a.state("desktop-landing-image-data");e&&(e=a.values(e),b=b.getResourceTimeByName("img",e),a.each(b,function(a){a&&(a.responseEnd!=h&&d.postCountMetric("ibDesktopLandingImageDownloadTime",f.parseInt(a.responseEnd)),a.transferSize!=h&&(0===a.transferSize?d.postCountMetric("ibDesktopLandingImageCached",1):(d.postCountMetric("ibDesktopLandingImageSizeInBytes",f.parseInt(a.transferSize)),
d.postCountMetric("ibDesktopLandingImageNotCached",1))))}))})});
/* ******** */
(function(l){var g=window.AmazonUIPageJS||window.P,m=g._namespace||g.attributeErrors,e=m?m("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):g;e.guardFatal?e.guardFatal(l)(e,window):e.execute(function(){l(e,window)})})(function(l,g,m){l.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(e){function f(c){c&&(l.load.js(c),g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",g.parseInt(performance.now())))}function k(c){c&&l.load.css(c)}
var c=e.airyConfig;c===m?l.when("ImageBlockBTF").execute(function(e){c=e.airyConfig;f(c.jsUrl);k(c.cssUrl)}):(f(c.jsUrl),k(c.cssUrl))});"use strict";l.when("A","jQuery").execute(function(e,f){e.on("a:image:load:landingImage",function(){g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});e.loadDynamicImage(f("#landingImage"))});"use strict";l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(e,f){function k(a,d){var b;
if(d.repositionHeroImage){b=a[1];var c=a[0];if(768>=(g.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))b*=.7,c*=.7;else{var e=((g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,e=Math.max(Math.min(e,1),0);b*=.7+.3*e;c*=.7+.3*e}b=[b,c]}return b}function c(a,d,b){var c;if(b.repositionHeroImage){var e=g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;b=b.heroFocalPoint;if(f.isDefined(b)){c=Math.max((e-
Math.min(1500,a))/2,0);var k=Math.max((e-a)/2,0);c-=k;e=Math.max(Math.min(e,1500),1024);c=c+(e-420-23)/2-a/d[1]*b}}return c}function h(a,d,b){a=a.heroImage;return!(f.isDefined(a)&&f.isDefined(a[d])&&f.isDefined(a[d][b])&&f.isDefined(a[d][b].main))||1>e.map(a[d][b].main,function(a,b){return b}).length?-1:a[d][b]}return{getHeroImageHash:h,getHeroDimParams:function(a,d,b){if(a.repositionHeroImage){if(!f.isDefined(b)){b=h(a,d.color,d.index);if(-1===b)return;d=e.map(b.main,function(a,b){return b})[0];
b=b.main[d]}d=k(b,a);a=c(d[0],b,a);return{height:d[1],width:d[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(e,f,k){function c(a,d){var b=e.copy(a);if(k.isDefined(a)&&a.length>d){try{for(var c=-1,h=0;h<a.length;h++){var f=a.charAt(h);if(" "===f||"."===f||"?"===f||";"===f||","===f||":"===f)c=h;if(h===d-4){b=a.substring(0,-1===c?h:c);break}}}catch(g){b=a.substring(0,d-3)}b+="..."}return b}function h(a,d){var b=a.lastIndexOf(".");
return a="_"===a.charAt(b-1)?a.substring(0,b-1)+d+a.substring(b):a.substring(0,b)+"."+d+a.substring(b)}return{getDimension:function(a,d){var b=parseInt(a.css(d),10);return isNaN(b)?0:b},attachTabSelectHandler:function(a,d){e.on("dp:ivTabs:"+a+":select",d)},attachTabDeselectHandler:function(a,d){e.on("dp:ivTabs:"+a+":deselect",d)},attachImmersiveViewResizeHandler:function(a){e.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){e.off("dp:image-block:immersive-view:resize",
a)},attachImmersiveViewResetHandler:function(a){e.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(a){f("#"+a).hide()},unhideTabHeading:function(a){f("#"+a).show()},addStyleCodeToURL:h,getResizedThumbnailURL:function(a,d){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";d&&(b+="FMpng_RI_");return h(a,b)},populateVariationSelection:function(a){if(k.isDefined(g.DetailPage)&&
k.isDefined(g.DetailPage.StateController)){a.empty();var d=g.DetailPage.StateController.getState(),b=d.variation_label_order,c;for(c in b)if(b.hasOwnProperty(c)){var e=b[c],h=d.selected_variations[e],e=d.variation_display_labels[e];h&&f("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+h).appendTo(a)}}},populateTitle:function(a,d,b){a.html(b.title);a.attr("title",a.text());a.html(c(b.title,d))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},
100,c)},logError:function(a,c,b,e){g.ueLogError&&g.ueLogError(e,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A").register("ImageBlockLoader",function(e){return{load:function(f,k){k=k||{};k.timeout=k.timeout||4E3;e.ajax(f,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(e,f){l.register("vse_ns_preLoaderHook",function(){function k(c,h){try{var a=c.A,d=c.block,b=c.request,g=c.handleFailure,l=c.handleSuccess,r=a.$;h--;var n=
3-h-1,p=a.now();a.ajax("/vap/ew/componentbuilder",{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(c){var h=a.now()-p;e.postTimeMetric("vse_preLoaderHook:success:",h);e.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+n);r(d).html(c);l(a,b,c)},error:function(d){e.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+n);(0===d.http.status||500<=d.http.status&&599>=
d.http.status)&&0<h?k(c,h):(e.postCountMetric("vse_preLoaderHook:error:",1),g(a,b,d))}})}catch(q){f.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(c,e,a,d,b){k({A:c,block:e,request:a,handleFailure:b,handleSuccess:d},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(c,h,a){try{var d=c.A,b=c.context,g=c.handleFailure,l=c.handleSuccess;h.attr("data-configuration");var r=atob(h.attr("data-configuration")),n=JSON.parse(r),p={pageContext:b,configuration:n},
q=d.now();a--;var m=3-a-1;d.ajax("/vap/ew/subcomponent/"+n.type,{params:p,paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var c=d.now()-q;e.postTimeMetric("vse_lazyLoaderHook:success:",c);e.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+n.type+":"+m);h.html(a);l(d,p,a)},error:function(f){e.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+n.type+":"+m);(0===f.http.status||
500<=f.http.status&&599>=f.http.status)&&0<a?k(c,h,a):(e.postCountMetric("vse_lazyLoaderHook:error:",1),g(d,p,f))}})}catch(u){f.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(c,e,a,d,b){var f=c.$;f(e+" div[data-configuration]").each(function(){k({A:c,context:a,handleFailure:b,handleSuccess:d},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(c,h,a){try{var d=c.A,b=c.block,g=c.request,l=c.handleFailure,m=c.handleSuccess,n=d.$;a--;var p=3-a-
1,q=d.now();d.ajax("/vap/ew/subcomponent/vseplayer",{params:g,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:g.timeout||5E3,withCredentials:!0,success:function(a){var c=d.now()-q;e.postTimeMetric("vse_lightPlayerLoaderHook:success:",c);e.postCountMetric("vse_lightPlayerLoaderHook:success:"+g.page+":"+g.placement+":"+p);n(b).html(a);m(d,g,a)},error:function(b){e.postCountMetric("vse_lightPlayerLoaderHook:error:"+g.page+":"+g.placement+":"+p);(0===b.http.status||
500<=b.http.status&&599>=b.http.status)&&0<a?k(c,a):(e.postCountMetric("vse_lightPlayerLoaderHook:error:",1),l(d,g,b))}})}catch(t){f.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",t)}}return{get:function(c,e,a,d,b){k({A:c,block:e,request:a,handleFailure:b,handleSuccess:d},3)}}})})});
/* ******** */
(function(k){var d=window.AmazonUIPageJS||window.P,p=d._namespace||d.attributeErrors,b=p?p("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(k)(b,window):b.execute(function(){k(b,window)})})(function(k,d,p){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,f,m,g,e,a){function c(h){h.interaction===p.MOUSE_ENTER&&
h.type===e.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function d(b,e){var d=new Date;b.interaction=e.type;b.isUserGenerated=!0;if(f.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===e.type&&m.isDataValidForAsin(u(b))&&(c(b),q&&clearTimeout(q),q=setTimeout(function(){var a=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,a,r);g.showShowroomMainImage(h);n.usePeekHover||f.selectGivenThumbnail(e.$declarativeParent,
x)},f.getHoveringDelayTimer())),"mouseleave"===e.type&&q&&clearTimeout(q),"click"===e.type){if(m.isDataValidForAsin(u(b))){var l=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,l,r);g.showShowroomMainImage(h)}f.selectGivenThumbnail(e.$declarativeParent,x);f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e)}}else m.isDataValidForAsin(u(b))&&(c(b),l=m.getDataForAsin(u(b)).imageData,g.updateMainImage(h,l,r),g.showShowroomMainImage(h)),n.usePeekHover&&"click"!==e.type||(f.selectGivenThumbnail(e.$declarativeParent,
x),"click"===e.type&&f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-d)}function u(a){a=n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var k=void 0,n=void 0,l=void 0,r=void 0,x=void 0,h=void 0,y=void 0,q=void 0,v=void 0,p={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(c,q,t,z){t=new Date;k=this;n=c;l=q;r=z;b.on(e.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},r.dispatch("updateView",a))});k.render=function(e,f,c,d,k,q){e=new Date;x=d;h=k.find("#main-showroom-container");h.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var p=new Date,t=m.getDataForAsin(w);g.refresh(r,t.asin,t.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-p);if(!q){var B=new Date;g.updateMainImage(h,
t.imageData,r);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;f=g.createThumbnail(n,d,f,t.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==y){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(t.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);y=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-e);return f};k.update=function(b){var r=new Date;try{var c=b.data;l.setCurrentEvent(b);c.type===e.SHOWROOM_THUMBNAIL_TYPE?
d(c,b):c.type!==e.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===p.SWATCH_HOVER?c.color===l.getCurrentItem().color&&l.getCurrentItem().type===e.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(h):g.hideShowroomMainImage(h):f.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(c);g.hideShowroomMainImage(h)},f.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(c),
g.hideShowroomMainImage(h))):g.hideShowroomMainImage(h))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-r)};(c=document.getElementById("ivShowroomTabHeading"))&&c.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(y).defaultStageId;b=a.createShowroomAtfEvent(b,y,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-t)}});
"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_BUTTON_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery",
"imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,f,m,g,e,a){function c(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)}function d(a){a.action="showroomIngressClick";a.data=l;p.dispatch("showroomIngressClick",a)}var k,p,
n,l;return{createThumbnail:function(a,b,c,f){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:f.variant};m.createThumbnail({type:e.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:f.variant},f.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,d){var h=a.find("#showroom-main-image");h.length?h.attr("src",d.hiRes):(h=f(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cimg src\x3d"'+
d.hiRes+'" id\x3d"showroom-main-image"/\x3e                \x3c/div\x3e').trim()),h.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],c),h.addClass("image-gradient-hue"),d=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),f(('\x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
d+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cspan class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cinput class\x3d"a-button-input"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png"/\x3e'+
h+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/span\x3e                \x3c/div\x3e").trim()).appendTo(a))},hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return f("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:d,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);
var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)},handleShowroomMainImageClick:c,refresh:function(a,b,c){p=a;k=b;n=c}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",
SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",
SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var f=(d.ue.count(b)||0)+1;d.ue.count(b,f)}}catch(g){}},logValue:function(b,
m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(g){}},createShowroomAtfEvent:function(f,d,g,e){var a={};a.showroomId=f;a.asin=d;a.eventType=g;a.status=e;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function f(){return e[a]}function g(a){return a in e}var e={},a;return{setData:function(c){c&&c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,g(c.asin)||(e[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return e[a]},
getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:g}})});
/* ******** */
