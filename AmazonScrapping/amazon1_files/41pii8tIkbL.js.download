'use strict';mix_d("SBXGwentCards__lifestyle-image-v4-creative-desktop:lifestyle-image-v4-creative-desktop__YB8b1Bu5/es3","require exports tslib @c/logger @c/pagemarker @c/dom @c/aui-utils @c/metrics @c/aui-feature-detect @c/browser-operations @p/a-ajax @c/aui-modal @p/A".split(" "),function(N,O,u,ia,ja,ka,la,ma,na,Q,oa,pa,qa){function A(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}function x(a,b){return function(c){c=q(a,c);return b?b(c):c}}function R(a){return Array.isArray(a)?
a.map(function(b){return u.__assign(u.__assign({},b),{width:0,height:0})}):{url:a.url,width:0,height:0}}var F=A(ia),ra=A(ja),K=A(ka),sa=A(la),S=A(ma),ta=A(na),ua=A(Q),va=A(oa),wa=A(pa),G=A(qa),C,D,H;(function(a){a.Cornerstone="CSTONE";a.Axiom="AXIOM"})(H||(H={}));var xa=(C={},C.e="basebe.ClientErrors.4",C.i="basebe.Impressions.5",C.c="basebe.Clicks.4",C.s="basebe.Swipes.4",C.v="basebe.Viewabilities.4",C.vc="basebe.VisualCompleteness.6",C.ss="basebe.slideshow.1",C),ya=(D={},D.e="basebe.ClientErrors.4",
D.i="basebe.Impressions.6",D.c="basebe.Clicks.5",D.s="basebe.Swipes.5",D.v="basebe.Viewabilities.5",D.vc="basebe.VisualCompleteness.7",D.ss="basebe.slideshow.1",D),T=function(a,b){return"matches"in a?a.matches(b):"msMatchesSelector"in a?a.msMatchesSelector(b):"webkitMatchesSelector"in a?a.webkitMatchesSelector(b):0<=v(b,n().ownerDocument.body).indexOf(a)},n=function(a,b){b=b||K["default"].cardRoot;return!a||T(b,a)?b:b.querySelector(a)},v=function(a,b){return Array.prototype.slice.call((b||K["default"].cardRoot).querySelectorAll(a))},
q=function(a,b){return(b=n("["+a+"]",b))?b.getAttribute(a):null},U=function(a,b){a:{for(var c="["+a+"]";b&&b!==K["default"].cardRoot;){if(T(b,c))break a;b=b.parentElement}b=null}return b?b.getAttribute(a):null},V=function(a){if(a)return a=a.getBoundingClientRect(),{left:a.left,right:a.right,top:a.top,bottom:a.bottom};a=n().ownerDocument.defaultView;return{left:0,top:0,right:a.innerWidth,bottom:a.innerHeight}},E=function(a,b){F["default"].log(a,"ERROR",b||"SBX_GWENT")},W=function(a){var b;a=/\?([^#]+)/.exec(a);
if(!a)return[];a=a[1].split("&");var c=null;try{for(var d=u.__values(a),e=d.next();!e.done;e=d.next()){var f=e.value;if(0===f.indexOf("ref_=")){c=f;break}}}catch(g){var h={error:g}}finally{try{e&&!e.done&&(b=d.return)&&b.call(d)}finally{if(h)throw h.error;}}return c?(h=c.split("=").pop()||"")?h.split("_"):[]:[]},X=function(a,b,c){var d={};if(5<c.length){d.el=c.pop()||null;a:{var e;try{for(var f=u.__values(c),h=f.next();!h.done;h=f.next()){var g=h.value;if(/^\d+$/.test(g)){var k=g;break a}}}catch(l){var m=
{error:l}}finally{try{h&&!h.done&&(e=f.return)&&e.call(f)}finally{if(m)throw m.error;}}k=null}d.index=k;d.asin=U("data-asin",b);d.type=U("data-avar",b)}a.c(d,b)},za=function(a,b){var c=W(b.href);X(a,b,c)},Aa=function(a,b){var c=n().ownerDocument.defaultView,d=function(e){2!==e.button&&(za(a,b),e.metaKey||e.altKey||e.shiftKey||e.ctrlKey||1===e.button||"_blank"===b.target||(e.preventDefault(),c.setTimeout(function(){c.open(b.href,b.target||"_top")},50)))};b.addEventListener("click",d);b.addEventListener("auxclick",
d)},Ca=function(a,b){v("[href]",b).filter(function(c){return!c.classList.contains("a-carousel-button")}).forEach(function(c){Aa(a,c)});v(".amazon-follow",b).forEach(function(c){c.addEventListener("click",function(){var d=W("?&ref_="+c.getAttribute("data-ref"));X(a,c,d)})});v('[data-mix-operations="hotSpotClick"]').forEach(function(c){c.addEventListener("click",function(){var d=c.dataset||{},e=d.asinid;e=void 0===e?null:e;d=d.hotspotindex;d=void 0===d?null:d;var f=c.style,h=f.top;f={x:parseFloat(f.left),
y:parseFloat(h)};f=JSON.stringify(f);e=u.__assign({type:f},{asin:e,el:"hotspot",index:d});a.c(e,c)})});Ba(a)},Ba=function(a){var b=n('[class*="seeProducts"]'),c=n('[data-mix-operations="expandHandler"]'),d=v('[class*="sidebarButton"]'),e=[b,c].concat(d);if(e.length){var f=[];e.forEach(function(g){if(g){var k=g instanceof HTMLButtonElement&&!q("data-index",g)?"seeProducts":g instanceof HTMLButtonElement?"asinSidebar":"shoppableImageCollapsed",m={asin:g.id||null,index:g.dataset.index||null,el:k};k=
function(){if(g){var l=u.__assign({type:"collapsed"},m);a.c(l,g);h(e,f)}};f.push(k);g.addEventListener("click",k)}});var h=function(g,k){g.forEach(function(m,l){m&&m.removeEventListener("click",k[l])})}}},Da=x("data-card-metrics-id",function(a){return(a||"").split("_")[0]}),Ea=x("data-var"),Fa=x("data-mrkt"),Ga=x("data-nm",function(a){return"true"===a}),Ha=x("data-rid"),Ia=x("data-cid"),Ja=x("data-iid"),Ka=x("data-idt",function(a){switch(a){case H.Axiom:return H.Axiom;default:return H.Cornerstone}}),
La=x("data-wl",function(a){return a?a.split(","):[]}),Ma=x("data-slot"),Na=x("data-ts"),Oa=function(a){return{id:q("data-asin",a),prime:!!n(".a-icon-prime",a),price:!!n(".a-price",a),savings:!!n('.a-price[data-a-strike="true"]',a),rating:q("data-rt",a),badge:q("data-deal",a)}},Y=function(a,b){var c=n().ownerDocument.defaultView,d,e=function(){d||(d=c.setTimeout(a,b))};e.cancel=function(){c.clearTimeout(d);d=0};return e},L=function(a,b,c){var d=(c||{}).ms||25,e=(c||{}).el||n().ownerDocument.defaultView,
f=sa["default"].throttle(b,d);e.addEventListener(a,f);return function(){e.removeEventListener(a,f)}},Z=JSON.stringify({v:{def:"iab",event:"VIEWED"},programType:"SBC"}),ba=function(a,b){var c=a.getBoundingClientRect();if(a=c.width*c.height){var d=c.top,e=c.bottom,f=c.left,h=c.right,g=n().ownerDocument.defaultView;c=g.innerHeight;f=aa(f,h,g.innerWidth);d=aa(d,e,c);.5<=f*d/a?b():b.cancel()}},aa=function(a,b,c){return 0<=a?Math.max(Math.min(c-a,b-a),0):0<b?Math.max(Math.min(Math.min(b,c),b-a),0):0},ca=
function(a){a="/"===a.substr(-1)?a+"v/":a+"/v/";fetch(a+encodeURI(Z),{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:Z}).then(function(b){b.ok||0===b.status||F["default"].log(b.status+" "+b.statusText,"ERROR","sbx-ce-vcpm-fetch")}).catch(function(b){F["default"].log(b,"ERROR","sbx-ce-vcpm-fetch")})},Pa=function(a,b){var c=function(){ba(b?b:n(),d)},d=Y(function(){var h=q("data-view-pixel",b?b:n());h&&(ca(h),null===b||void 0===b?void 0:b.removeAttribute("data-view-pixel"));
e();f();a.v(null,b)},1E3),e=L("scroll",c,void 0),f=L("resize",c,void 0);c()},Qa=function(a){a&&a.forEach(function(b){var c=Y(function(){var d=q("data-view-pixel",b);d&&(ca(d),null===b||void 0===b?void 0:b.removeAttribute("data-view-pixel"))},1E3);ba(b,c)})},da=function(a,b){var c=null,d=null;a.addEventListener("touchstart",function(e){c=e.touches[0].pageX});a.addEventListener("touchmove",function(e){null===c&&(c=e.touches[0].pageX);d=e.touches[0].pageX});a.addEventListener("touchend",function(){null!==
c&&null!==d&&b(d-c);c=d=null})},Ra=function(a){if(ta["default"].isSupported("touch")){var b=n("[data-track-swipe]"),c=n("[data-trackswipe]"),d=function(e){var f=Math.abs(e);if(30<f){var h=v("[data-view-pixel]");Qa(h);a.s({direction:0>e?"left":"right",length:f})}};b?da(b,d):c&&da(c,d)}},Sa=function(a,b){var c=Date.now();b=v("img",b);var d=b.length,e=0,f=function(){++e===d&&a.vc({delay:Date.now()-c})};b.forEach(function(h){null!==q("data-lazy",h)&&null!==q("data-src",h)?h.addEventListener("load",function(){h.src===
h.dataset.src&&f()}):h.complete?f():h.addEventListener("load",f)})},Ta=function(a,b){var c=a.anonymizedRequestId,d=a.campaignId,e=a.idType;a=a.slotName;void 0===b&&(b=!1);var f=b?ya:xa,h={anonymizedRequestId:c,campaignId:d,slotName:a};b&&(h.idType=e);var g=function(k,m){try{var l=S["default"],p=l.event,r=u.__assign({},h);if(m)for(var t in m)Object.prototype.hasOwnProperty.call(m,t)&&(r[t]=m[t]);p.call(l,r,"base-be",f[k],{ssd:!0})}catch(y){E(y)}};return{i:g.bind(null,"i"),v:g.bind(null,"v"),vc:g.bind(null,
"vc"),c:g.bind(null,"c"),s:g.bind(null,"s"),ss:g.bind(null,"ss"),e:function(k){g("e",k&&{name:k.name,message:k.message,stack:k.stack})}}},ea=function(a){var b=Ia(a);b=Ta({anonymizedRequestId:Ha(),campaignId:b,idType:Ka(a),slotName:Ma()},Ga(a));var c=b.i,d=[].map.call(v("[data-asin]",a),Oa),e=Da(),f=Ea(a),h=Fa(a),g=Na(a),k=n().ownerDocument.defaultView;c.call(b,{asins:d,creativeType:e,creativeVariation:f,market:h,version:g,viewport:k.innerWidth+"x"+k.innerHeight,weblabs:La(a)});Ca(b,a);Sa(b,a);Pa(b,
a);Ra(b)},I=function(a,b){void 0===b&&(b=1);S["default"].count("sbxGwentClient"+a,b)},w={log:function(a){var b=n().ownerDocument.defaultView;var c=Ja();(b=c&&b.sbxGwentClient&&"number"===typeof b.sbxGwentClient[c]?Date.now()-b.sbxGwentClient[c]:null)?I(a,b):I("NoPageTime")}},Ua=function(a){var b=a.url,c=a.onSuccess,d=a.onError;b||d();va["default"].get(b,{success:function(e){e&&"ok"===e.status?c(e):d()},error:d,abort:d})},M;(M||(M={})).adFeedbackHandler="adFeedbackHandler";var Va=function(a,b,c,d,
e){try{var f=JSON.parse(a),h=u.__read(f,6),g=h[0],k=h[1],m=h[2],l=h[3],p=h[4],r=h[5],t=[];Array.isArray(g)?g.forEach(function(B){return t.push({campaignId:c,creativeId:B})}):t.push({campaignId:c,creativeId:g});var y={adCreativeMetaData:{adCreativeId:Array.isArray(g)?g[0]:g,adId:b,adImpressionId:k,adNetwork:"aax",adProgramId:1010,adCreativeDetails:t},adPlacementMetaData:{adElementId:m,pageType:l,pageUrl:p,searchTerms:r,slotName:d,adProgramId:1010}};return e+"?pl="+encodeURIComponent(JSON.stringify(y))}catch(B){return null}},
Wa=function(a){var b=ua["default"].setup().define,c=!!q("data-ad-feedback-clicks"),d=!!q("data-ad-feedback-simulate"),e=a||"AdFeedbackSuccess",f="AdFeedbackPlaceholderClick",h=!1;c&&b(M.adFeedbackHandler,"click",function(){w.log(f);"AdFeedbackPlaceholderClick"===f&&(h=!0)});a=q("data-ad-feedback");b=q("data-ad-feedback-url")||"/gp/aq-feedback/lazyLoad/handler/af-link-handler.html";if(a){c=q("data-slot");var g=q("data-aid"),k=q("data-cid");a=Va(a,g,k,c,b);Ua({url:a,onSuccess:function(m){var l=m.html;
var p=n('[data-id="afb-content"]');p&&l?(p.innerHTML=l,l=p):l=null;if(m=m.script)p=n().ownerDocument.createElement("script"),p.type="text/javascript",p.innerHTML=m,n().appendChild(p);w.log(e);f="AdFeedbackLinkClick";l&&h&&d&&((m=n("a",l))?(m.click(),m=!0):m=!1,w.log(m?"AdFeedbackSimulateClickSuccess":"AdFeedbackSimulateClickFail"))},onError:function(){w.log("AdFeedbackFallback");h&&d&&w.log("AdFeedbackSimulateClickFail")}})}},Ya=function(a,b,c,d,e,f,h){return u.__awaiter(void 0,void 0,void 0,function(){var g,
k,m;return u.__generator(this,function(l){switch(l.label){case 0:g=function(){return{adCreativeMetaData:{adCreativeDetails:Xa(b,f,h)},adFeedbackLabelId:a}},k=function(p,r,t){I(p);r&&(p=p+"_"+r,t&&(p+="_"+t),I(p))},l.label=1;case 1:return l.trys.push([1,3,,4]),[4,c(g)];case 2:return l.sent(),k("EnableAdFeedbackSuccess",d,e),[3,4];case 3:return m=l.sent(),k("EnableAdFeedbackFailure",d,e),E(m),[3,4];case 4:return[2]}})})},Za=function(a){if(a){var b=a.split(" ");b.map(function(c,d){0<d&&(b[d]=c.substring(3,
c.length))});b.pop();b.shift();return b}},Xa=function(a,b,c){var d=[];a.forEach(function(e,f){var h='[data-aid="'+e.adId+'"]';for(var g=n(h),k=b&&b()||document.body,m,l=0;(c?l<c.length:0>l)&&!(m=n(h+' div[class*="'+(null===c||void 0===c?void 0:c[l])+'"] img'));l++);h=(null===m||void 0===m?void 0:m.getAttribute("src"))||void 0;l=Za((null===m||void 0===m?void 0:m.getAttribute("srcset"))||void 0);var p=(null===l||void 0===l?void 0:l.length)||1;m=[];for(var r=0;r<p;r++)m.push({url:(null===l||void 0===
l?void 0:l[r])||""});h={url:h?h:""};if(g){if(g=V(g),k?(k=V(k),g.left===k.left||g.right===k.right?(l=g.left,(l=l>=k.left&&l<=k.right)||(g=g.right,l=g>=k.left&&g<=k.right),k=l):(l=g.left,(l=l>k.left&&l<k.right)||(g=g.right,l=g>k.left&&g<k.right),k=l)):k=void 0,k){k=d.push;g=e.campaignId;l=e.adId;p=e.title;m={lowResolutionImage:R(h),highResolutionImages:R(m)};if(e.selectionSignals){h=e.selectionSignals;switch(h.pastActivity){case "STORE_ONLY":r=1;break;default:r=0}h=u.__assign(u.__assign({},h),{pastActivity:r})}else h=
void 0;k.call(d,{campaignId:g,adId:l,adCreativeIndex:f,title:p,adCreativeImage:m,selectionSignals:h,advertiserIdNS:e.advertiserIdNS})}}else F["default"].log("adElement is not found: "+JSON.stringify(e),"WARN","sbx-ce")});return d},fa=function(){v('[data-id="cta"]').forEach(function(a){if(a.parentElement){var b=n('[data-id*="cta-fallback"]',a.parentElement),c=n(".a-truncate",a),d=n(".a-truncate-full",a);c&&d&&(d.clientHeight>c.clientHeight&&b?(b.style.display="block",a.parentElement.removeChild(a)):
(b=a.parentElement.getAttribute("aria-hidden"),b&&"false"!==b||(b=a.getAttribute("data-label")||d.innerHTML,a.parentElement.setAttribute("aria-label",b)),(c=n('[data-id*="cta-chevron"]',a))&&!d.hasAttribute("data-chevron")&&(d.setAttribute("data-chevron","true"),a=d.innerHTML.split(" "),b=a.pop(),c=c.innerHTML,d.innerHTML="<span>"+a.join(" ")+" </span><span>"+b+"&nbsp;"+c+"</span>")))}})},$a=function(a){var b=q("data-src",a)||"",c=q("data-srcset",a)||"",d=a.cloneNode();d.removeAttribute("data-src");
d.removeAttribute("data-srcset");d.removeAttribute("data-lazy");d.srcset=c;d.src=b;a.parentNode&&a.parentNode.insertBefore(d,a);d.onload=function(){a.style.opacity="0";w.log("LazyLoaded")}},ab=function(){var a=v('[class*="eelModalRoot"]');a&&a.forEach(function(b,c){var d=q("data-modal-trigger",b),e=q("data-title",b),f=q("data-modal-settings",b);f=JSON.parse(f||"{}");if(d){c="eel-cards-modal-"+c;var h="."+b.className.split(" ")[0],g=wa["default"].create(c,h,{closeButton:(null===f||void 0===f?void 0:
f.closeButton)||!1,a11yOpenMessage:e||"Energy Efficiency & Product Fiche",width:(null===f||void 0===f?void 0:f.width)||800});e=Q.setup();f=e.define;e=e.attach;g.once("beforeShow",function(){G["default"].loadDescendantImagesManually(b)});f("modal-handler-"+d,["click"],function(){g.show()});f("modal-close-handler-"+d,["click"],function(){g.hide()});f=n('[data-mix-operations="modal-handler-'+d+'"]');d=n('[data-mix-operations="modal-close-handler-'+d+'"]');f&&d&&(e("modalHandler",f),e("modalClose",d))}})},
bb=function(a){var b=function(d,e){d={$event:{preventDefault:G["default"].$.noop,stopPropagation:G["default"].$.noop},$target:d.getContent().find('[data-a-tab-name="'+e+'"]'),data:{name:"energyEfficiencyTabSet"}};G["default"].trigger("a:declarative:a-tabs:click",d)},c=function(d,e){var f=d&&d.$event,h=d&&d.data||{},g=h.name;f&&f.preventDefault&&f.preventDefault();f&&f.stopPropagation&&f.stopPropagation();d&&f&&h&&g&&e&&(f=e.get(g),f||(G["default"].on("a:popover:beforeShow:"+g,function(k){var m,l,
p;k.popover&&k.popover.getContent&&(k=k.popover.getContent(),null===(l=null===(m=null===k||void 0===k?void 0:k.find(".a-manually-loaded"))||void 0===m?void 0:m.parent())||void 0===l?void 0:l.css("min-height",null!==(p=h.modalHeight)&&void 0!==p?p:800),G["default"].loadDescendantImagesManually(k))}),f=e.create(d.$target,h)),f&&(f.show(),h.activeTabName&&b(f,h.activeTabName)))};a&&a.when("a-secondary-view").execute("RegisterEnergyEfficiencyEventMobile",function(d){G["default"].declarative("card-energy-efficiency-secondary-view",
"click",function(e){c(e,d)})})},cb=function(a){return function(){return u.__awaiter(void 0,void 0,void 0,function(){var b,c,d,e,f,h,g,k,m,l,p,r,t,y;return u.__generator(this,function(B){switch(B.label){case 0:return w.log("Loaded"),b=a||{},c=b.loadAdFeedback,d=b.onLoad,e=b.onInit,f=b.isMobile,h=b.enableAdFeedback,g=b.creativeContainer,k=b.creativeImageContainer,e&&e(),[4,ra["default"].pageReady];case 1:B.sent();w.log("Ready");try{var J=n(".sbx-no-js",void 0);J&&J.classList.remove("sbx-no-js");try{var ha=
v("[data-cid]");ha.length?ha.forEach(ea):ea()}catch(z){E(z)}try{fa(),L("resize",fa,void 0)}catch(z){E(z)}try{v('img[data-lazy="true"]').forEach($a)}catch(z){E(z)}n('[class*="eelModalRoot"]')?ab():n('[data-action*="card-energy-efficiency-"]')&&bb(window.P);d&&d();J=f;if(void 0!==J&&!window.sbxGwentClientDPR)try{window.sbxGwentClientDPR=!0,I((J?"Mobile":"Desktop")+"DPR"+(4>=Math.round(2*window.devicePixelRatio)/2?Math.round(2*window.devicePixelRatio)/2:"4Plus"))}catch(z){E(z)}}catch(z){E(z)}if(!h)return[3,
6];B.label=2;case 2:B.trys.push([2,5,,6]);m=q("data-ad-feedback-label-id");l=q("data-ad-creative-list");p=q("data-device-type")||"";r=q("data-tablet-env")||"";if(!m||!l)return[3,4];t=JSON.parse(l);return[4,Ya(m,t,h,p,r,g,k)];case 3:B.sent(),B.label=4;case 4:return[3,6];case 5:return y=B.sent(),E(y),[3,6];case 6:try{c&&Wa()}catch(z){E(z)}return[2]}})})}},db={T1:0,T2:1E3,T3:2E3,T4:3E3,T5:4E3,T6:5E3,T7:6E3,T8:7E3,T9:8E3},eb=function(a){"complete"===document.readyState||"interactive"===document.readyState?
a():document.addEventListener("DOMContentLoaded",a)};O._operationNames=[];O.card=function(){return u.__awaiter(void 0,void 0,void 0,function(){var a,b,c,d,e,f,h;return u.__generator(this,function(g){switch(g.label){case 0:b=q("data-device-type");c=q("data-ad-feedback-payload");try{c&&(d=null===(h=null===(f=JSON.parse(c))||void 0===f?void 0:f.adPlacementMetaData)||void 0===h?void 0:h.pageType)}catch(k){F["default"].log("Failed to parse adFeedbackPayload "+c,"ERROR"),F["default"].log(k,"ERROR")}g.label=
1;case 1:return g.trys.push([1,6,,7]),"Search"!==d||"tablet"!==b&&"mobile"!==b?[3,3]:[4,new Promise(function(k,m){N(["./es3@index"],k,m)})];case 2:return a=g.sent().enableAdFeedback,[3,5];case 3:return[4,new Promise(function(k,m){N(["./es3@index2"],k,m)})];case 4:a=g.sent().enableAdFeedback,g.label=5;case 5:return[3,7];case 6:return e=g.sent(),F["default"].log("Failed to load adFeedback module","ERROR"),F["default"].log(e,"ERROR"),[3,7];case 7:return cb({enableAdFeedback:a,loadAdFeedback:!0,
onLoad:function(){w.log("LifestyleOnLoad");var k=q("data-lazy-load");k&&eb(function(){setTimeout(function(){var m=n("img[data-lifestyle-img]"),l=m&&m.getAttribute("src");if(m&&l){l=l.replace("_QL50_","_QL70_");var p=l.replace,r=window.innerWidth,t=2<=window.devicePixelRatio?2:1,y=405*t;1470<=r?y=507*t:1400<=r?y=468*t:1250<=r&&(y=430*t);l=p.call(l,"_SX405_","_SX"+y+"_");m.setAttribute("src",l);w.log("LazyLoadLifestyle"+k)}},db[k]||0)})},onInit:function(){try{P.when("af").execute(function(){return w.log("LifestyleAF")})}catch(k){w.log("LifestyleAFError")}},
creativeImageContainer:["container"],isMobile:!1})(),[2]}})})}});
